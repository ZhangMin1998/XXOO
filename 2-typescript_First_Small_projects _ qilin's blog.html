<!DOCTYPE html>
<!-- saved from url=(0054)https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#more -->
<html lang="zh-CN" style="--sidebar-wrapper-height:811px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="https://cqilin.gitee.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://cqilin.gitee.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://cqilin.gitee.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="https://cqilin.gitee.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/main.css">

<link rel="stylesheet" href="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/css">
<link rel="stylesheet" href="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/all.min.css">
  
  <link rel="stylesheet" href="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/animate.min.css">
  <link rel="stylesheet" href="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/pace-theme-loading-bar.min.css">
  <script src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/pace.min.js.下载"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"cqilin.gitee.io","root":"/","scheme":"Gemini","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"path":"search.xml"};
  </script>

  <meta name="description" content="10. 项目：下棋游戏小作品网址 10.0 html与css准备；10.0.1 准备初始的html">
<meta property="og:type" content="article">
<meta property="og:title" content="2-typescript_First_Small_projects">
<meta property="og:url" content="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/index.html">
<meta property="og:site_name" content="qilin&#39;s blog">
<meta property="og:description" content="10. 项目：下棋游戏小作品网址 10.0 html与css准备；10.0.1 准备初始的html">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/08/09/pM4REPJYef51Tnq.png">
<meta property="og:image" content="https://i.loli.net/2020/08/10/wXyWEAuZsUH8a7B.png">
<meta property="og:image" content="https://i.loli.net/2020/08/10/aSf7wKJ1n8sT3qA.png">
<meta property="og:image" content="https://i.loli.net/2020/08/10/wXyWEAuZsUH8a7B.png">
<meta property="og:image" content="https://i.loli.net/2020/08/10/EPnOxswypDKLN2g.png">
<meta property="og:image" content="https://i.loli.net/2020/08/10/akC13UyTKwn9SJX.png">
<meta property="article:published_time" content="2020-08-08T01:02:39.000Z">
<meta property="article:modified_time" content="2020-09-05T05:23:00.830Z">
<meta property="article:author" content="qilin">
<meta property="article:tag" content="item">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/08/09/pM4REPJYef51Tnq.png">

<link rel="canonical" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>2-typescript_First_Small_projects | qilin's blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<script src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/Valine.min.js.下载"></script><style type="text/css">.v[data-class=v]{font-size:16px;text-align:left}.v[data-class=v] *{-webkit-box-sizing:border-box;box-sizing:border-box;line-height:1.75}.v[data-class=v] .status-bar,.v[data-class=v] .veditor,.v[data-class=v] .vinput,.v[data-class=v] p,.v[data-class=v] pre code{color:#555}.v[data-class=v] .vsys,.v[data-class=v] .vtime{color:#b3b3b3}.v[data-class=v] .text-right{text-align:right}.v[data-class=v] .text-center{text-align:center}.v[data-class=v] img{max-width:100%;border:none}.v[data-class=v] hr{margin:.825em 0;border-color:#f6f6f6;border-style:dashed}.v[data-class=v].hide-avatar .vimg{display:none}.v[data-class=v] a{position:relative;cursor:pointer;color:#1abc9c;text-decoration:none;display:inline-block}.v[data-class=v] a:hover{color:#d7191a}.v[data-class=v] code,.v[data-class=v] pre{background-color:#f8f8f8;padding:.2em .4em;border-radius:3px;font-size:85%;margin:0}.v[data-class=v] pre{padding:10px;overflow:auto;line-height:1.45}.v[data-class=v] pre code{padding:0;background:transparent;white-space:pre-wrap;word-break:keep-all}.v[data-class=v] blockquote{color:#666;margin:.5em 0;padding:0 0 0 1em;border-left:8px solid hsla(0,0%,93%,.5)}.v[data-class=v] .vinput{border:none;resize:none;outline:none;padding:10px 5px;max-width:100%;font-size:.775em}.v[data-class=v] input[type=checkbox],.v[data-class=v] input[type=radio]{display:inline-block;vertical-align:middle;margin-top:-2px}.v[data-class=v] .vicon{cursor:pointer;display:inline-block;overflow:hidden;fill:#555;vertical-align:middle}.v[data-class=v] .vicon+.vicon{margin-left:10px}.v[data-class=v] .vicon.actived{fill:#66b1ff}.v[data-class=v] .vrow{font-size:0;padding:10px 0}.v[data-class=v] .vrow .vcol{display:inline-block;vertical-align:middle;font-size:14px}.v[data-class=v] .vrow .vcol.vcol-20{width:20%}.v[data-class=v] .vrow .vcol.vcol-30{width:30%}.v[data-class=v] .vrow .vcol.vcol-40{width:40%}.v[data-class=v] .vrow .vcol.vcol-50{width:50%}.v[data-class=v] .vrow .vcol.vcol-60{width:60%}.v[data-class=v] .vrow .vcol.vcol-70{width:70%}.v[data-class=v] .vrow .vcol.vcol-80{width:80%}.v[data-class=v] .vrow .vcol.vctrl{font-size:12px}.v[data-class=v] .emoji,.v[data-class=v] .vemoji{max-width:25px;vertical-align:middle;margin:0 1px;display:inline-block}.v[data-class=v] .vwrap{border:1px solid #f0f0f0;border-radius:4px;margin-bottom:10px;overflow:hidden;position:relative;padding:10px}.v[data-class=v] .vwrap input{background:transparent}.v[data-class=v] .vwrap .vedit{position:relative;padding-top:10px}.v[data-class=v] .vwrap .cancel-reply-btn{position:absolute;right:5px;top:5px;cursor:pointer}.v[data-class=v] .vwrap .vemojis{display:none;font-size:18px;max-height:145px;overflow:auto;padding-bottom:10px;-webkit-box-shadow:0 0 1px #f0f0f0;box-shadow:0 0 1px #f0f0f0}.v[data-class=v] .vwrap .vemojis i{font-style:normal;padding-top:7px;width:36px;cursor:pointer;text-align:center;display:inline-block;vertical-align:middle}.v[data-class=v] .vwrap .vpreview{padding:7px;-webkit-box-shadow:0 0 1px #f0f0f0;box-shadow:0 0 1px #f0f0f0}.v[data-class=v] .vwrap .vheader .vinput{width:33.33%;border-bottom:1px dashed #dedede}.v[data-class=v] .vwrap .vheader.item2 .vinput{width:50%}.v[data-class=v] .vwrap .vheader.item1 .vinput{width:100%}.v[data-class=v] .vwrap .vheader .vinput:focus{border-bottom-color:#eb5055}@media screen and (max-width:520px){.v[data-class=v] .vwrap .vheader.item2 .vinput,.v[data-class=v] .vwrap .vheader .vinput{width:100%}}.v[data-class=v] .vpower{color:#999;font-size:.75em;padding:.5em 0}.v[data-class=v] .vpower a{font-size:.75em}.v[data-class=v] .vcount{padding:5px;font-weight:600;font-size:1.25em}.v[data-class=v] ol,.v[data-class=v] ul{padding:0;margin-left:1.25em}.v[data-class=v] .txt-center{text-align:center}.v[data-class=v] .txt-right{text-align:right}.v[data-class=v] .pd5{padding:5px}.v[data-class=v] .pd10{padding:10px}.v[data-class=v] .veditor{width:100%;min-height:8.75em;font-size:.875em;background:transparent;resize:vertical;-webkit-transition:all .25s ease;transition:all .25s ease}.v[data-class=v] .vbtn{-webkit-transition-duration:.4s;transition-duration:.4s;text-align:center;color:#555;border:1px solid #ededed;border-radius:.3em;display:inline-block;background:transparent;margin-bottom:0;font-weight:400;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;white-space:nowrap;padding:.5em 1.25em;font-size:.875em;line-height:1.42857143;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}.v[data-class=v] .vbtn+.vbtn{margin-left:1.25em}.v[data-class=v] .vbtn:active,.v[data-class=v] .vbtn:hover{color:#3090e4;border-color:#3090e4}.v[data-class=v] .vbtn:disabled{border-color:#e1e1e1;color:#e1e1e1;background-color:#fdfafa;cursor:not-allowed}.v[data-class=v] .vempty{padding:1.25em;text-align:center;color:#555;overflow:auto}.v[data-class=v] .vsys{display:inline-block;padding:.2em .5em;font-size:.75em;border-radius:.2em;margin-right:.3em}@media screen and (max-width:520px){.v[data-class=v] .vsys{display:none}}.v[data-class=v] .vcards{width:100%}.v[data-class=v] .vcards .vcard{padding-top:1.25em;position:relative;display:block}.v[data-class=v] .vcards .vcard:after{content:"";clear:both;display:block}.v[data-class=v] .vcards .vcard .vimg{width:3.125em;height:3.125em;float:left;border-radius:50%;margin-right:.7525em;border:1px solid #f5f5f5;padding:.125em}@media screen and (max-width:720px){.v[data-class=v] .vcards .vcard .vimg{width:2.5em;height:2.5em}}.v[data-class=v] .vcards .vcard .vhead{line-height:1.5;margin-top:0}.v[data-class=v] .vcards .vcard .vhead .vnick{position:relative;font-size:.875em;font-weight:500;margin-right:.875em;cursor:pointer;text-decoration:none;display:inline-block}.v[data-class=v] .vcards .vcard .vhead .vnick:hover{color:#d7191a}.v[data-class=v] .vcards .vcard .vh{overflow:hidden;padding-bottom:.5em;border-bottom:1px dashed #f5f5f5}.v[data-class=v] .vcards .vcard .vh .vtime{font-size:.75em;margin-right:.875em}.v[data-class=v] .vcards .vcard .vh .vmeta{line-height:1;position:relative}.v[data-class=v] .vcards .vcard .vh .vmeta .vat{font-size:.8125em;color:#ef2f11;cursor:pointer;float:right}.v[data-class=v] .vcards .vcard:last-child .vh{border-bottom:none}.v[data-class=v] .vcards .vcard .vcontent{word-wrap:break-word;word-break:break-all;font-size:.875em;line-height:2;position:relative;margin-bottom:.75em;padding-top:.625em}.v[data-class=v] .vcards .vcard .vcontent.expand{cursor:pointer;max-height:8em;overflow:hidden}.v[data-class=v] .vcards .vcard .vcontent.expand:before{display:block;content:"";position:absolute;width:100%;left:0;top:0;bottom:3.15em;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,0)),to(hsla(0,0%,100%,.9)));background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.9));z-index:999}.v[data-class=v] .vcards .vcard .vcontent.expand:after{display:block;content:attr(data-expand);text-align:center;color:#828586;position:absolute;width:100%;height:3.15em;line-height:3.15em;left:0;bottom:0;z-index:999;background:hsla(0,0%,100%,.9)}.v[data-class=v] .vcards .vcard .vquote{padding-left:1em;border-left:1px dashed hsla(0,0%,93%,.5)}.v[data-class=v] .vcards .vcard .vquote .vimg{width:2.225em;height:2.225em}.v[data-class=v] .vpage .vmore{margin:1em 0}.v[data-class=v] .clear{content:"";display:block;clear:both}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes pulse{50%{background:#dcdcdc}}@keyframes pulse{50%{background:#dcdcdc}}.v[data-class=v] .vspinner{width:22px;height:22px;display:inline-block;border:6px double #a0a0a0;border-top-color:transparent;border-bottom-color:transparent;border-radius:50%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear;position:relative;vertical-align:middle;margin:0 5px}.dark .v[data-class=v] .status-bar,.dark .v[data-class=v] .veditor,.dark .v[data-class=v] .vinput,.dark .v[data-class=v] p,.dark .v[data-class=v] pre code,.night .v[data-class=v] .status-bar,.night .v[data-class=v] .veditor,.night .v[data-class=v] .vinput,.night .v[data-class=v] p,.night .v[data-class=v] pre code,.theme__dark .v[data-class=v] .status-bar,.theme__dark .v[data-class=v] .veditor,.theme__dark .v[data-class=v] .vinput,.theme__dark .v[data-class=v] p,.theme__dark .v[data-class=v] pre code,[data-theme=dark] .v[data-class=v] .status-bar,[data-theme=dark] .v[data-class=v] .veditor,[data-theme=dark] .v[data-class=v] .vinput,[data-theme=dark] .v[data-class=v] p,[data-theme=dark] .v[data-class=v] pre code{color:#b2b2b5}.dark .v[data-class=v] .vsys,.dark .v[data-class=v] .vtime,.night .v[data-class=v] .vsys,.night .v[data-class=v] .vtime,.theme__dark .v[data-class=v] .vsys,.theme__dark .v[data-class=v] .vtime,[data-theme=dark] .v[data-class=v] .vsys,[data-theme=dark] .v[data-class=v] .vtime{color:#929298}.dark .v[data-class=v] code,.dark .v[data-class=v] pre,.dark .v[data-class=v] pre code,.night .v[data-class=v] code,.night .v[data-class=v] pre,.night .v[data-class=v] pre code,.theme__dark .v[data-class=v] code,.theme__dark .v[data-class=v] pre,.theme__dark .v[data-class=v] pre code,[data-theme=dark] .v[data-class=v] code,[data-theme=dark] .v[data-class=v] pre,[data-theme=dark] .v[data-class=v] pre code{color:#929298;background-color:#151414}.dark .v[data-class=v] .vwrap,.night .v[data-class=v] .vwrap,.theme__dark .v[data-class=v] .vwrap,[data-theme=dark] .v[data-class=v] .vwrap{border-color:#b2b2b5}.dark .v[data-class=v] .vicon,.night .v[data-class=v] .vicon,.theme__dark .v[data-class=v] .vicon,[data-theme=dark] .v[data-class=v] .vicon{fill:#b2b2b5}.dark .v[data-class=v] .vicon.actived,.night .v[data-class=v] .vicon.actived,.theme__dark .v[data-class=v] .vicon.actived,[data-theme=dark] .v[data-class=v] .vicon.actived{fill:#66b1ff}.dark .v[data-class=v] .vbtn,.night .v[data-class=v] .vbtn,.theme__dark .v[data-class=v] .vbtn,[data-theme=dark] .v[data-class=v] .vbtn{color:#b2b2b5;border-color:#b2b2b5}.dark .v[data-class=v] .vbtn:hover,.night .v[data-class=v] .vbtn:hover,.theme__dark .v[data-class=v] .vbtn:hover,[data-theme=dark] .v[data-class=v] .vbtn:hover{color:#66b1ff;border-color:#66b1ff}.dark .v[data-class=v] a:hover,.night .v[data-class=v] a:hover,.theme__dark .v[data-class=v] a:hover,[data-theme=dark] .v[data-class=v] a:hover{color:#d7191a}.dark .v[data-class=v] .vcards .vcard .vcontent.expand:before,.night .v[data-class=v] .vcards .vcard .vcontent.expand:before,.theme__dark .v[data-class=v] .vcards .vcard .vcontent.expand:before,[data-theme=dark] .v[data-class=v] .vcards .vcard .vcontent.expand:before{background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.3)),to(rgba(0,0,0,.7)));background:linear-gradient(180deg,rgba(0,0,0,.3),rgba(0,0,0,.7))}.dark .v[data-class=v] .vcards .vcard .vcontent.expand:after,.night .v[data-class=v] .vcards .vcard .vcontent.expand:after,.theme__dark .v[data-class=v] .vcards .vcard .vcontent.expand:after,[data-theme=dark] .v[data-class=v] .vcards .vcard .vcontent.expand:after{background:rgba(0,0,0,.7)}@media (prefers-color-scheme:dark){.v[data-class=v] .status-bar,.v[data-class=v] .veditor,.v[data-class=v] .vinput,.v[data-class=v] p,.v[data-class=v] pre code{color:#b2b2b5}.v[data-class=v] .vsys,.v[data-class=v] .vtime{color:#929298}.v[data-class=v] code,.v[data-class=v] pre,.v[data-class=v] pre code{color:#929298;background-color:#151414}.v[data-class=v] .vwrap{border-color:#b2b2b5}.v[data-class=v] .vicon{fill:#b2b2b5}.v[data-class=v] .vicon.actived{fill:#66b1ff}.v[data-class=v] .vbtn{color:#b2b2b5;border-color:#b2b2b5}.v[data-class=v] .vbtn:hover{color:#66b1ff;border-color:#66b1ff}.v[data-class=v] a:hover{color:#d7191a}.v[data-class=v] .vcards .vcard .vcontent.expand:before{background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.3)),to(rgba(0,0,0,.7)));background:linear-gradient(180deg,rgba(0,0,0,.3),rgba(0,0,0,.7))}.v[data-class=v] .vcards .vcard .vcontent.expand:after{background:rgba(0,0,0,.7)}}</style></head>

<body itemscope="" itemtype="http://schema.org/WebPage" class="pace-done "><div class="pace pace-inactive"><div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  <div class="pace-progress-inner"></div>
</div>
<div class="pace-activity"></div></div>
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope="" itemtype="http://schema.org/WPHeader" style="opacity: 1; top: 0px;">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" style="opacity: 1; top: 0px;">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="https://cqilin.gitee.io/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title" style="opacity: 1; top: 0px;">qilin's blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description" style="opacity: 1; top: 0px;">web学习笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" style="opacity: 1; top: 0px;">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home animated fadeInDown">

    <a href="https://cqilin.gitee.io/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about animated fadeInDown">

    <a href="https://cqilin.gitee.io/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于我</a>

  </li>
        <li class="menu-item menu-item-tags animated fadeInDown">

    <a href="https://cqilin.gitee.io/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">23</span></a>

  </li>
        <li class="menu-item menu-item-categories animated fadeInDown">

    <a href="https://cqilin.gitee.io/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-archives animated fadeInDown">

    <a href="https://cqilin.gitee.io/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">50</span></a>

  </li>
        <li class="menu-item menu-item-guestbook animated fadeInDown">

    <a href="https://cqilin.gitee.io/guestbook/" rel="section"><i class="fa fa-comment fa-fw"></i>留言</a>

  </li>
      <li class="menu-item menu-item-search animated fadeInDown">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar animated fadeInUp">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2 active"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-%E9%A1%B9%E7%9B%AE%EF%BC%9A%E4%B8%8B%E6%A3%8B%E6%B8%B8%E6%88%8F"><span class="nav-text">10. 项目：下棋游戏</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-html%E4%B8%8Ecss%E5%87%86%E5%A4%87%EF%BC%9B"><span class="nav-text">10.0 html与css准备；</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-1-%E5%87%86%E5%A4%87%E5%88%9D%E5%A7%8B%E7%9A%84html"><span class="nav-text">10.0.1 准备初始的html</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-2-%E6%A0%87%E7%AD%BE%E8%A7%A3"><span class="nav-text">10.0.2 标签解</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#1-cursor-pointer"><span class="nav-text">1.cursor: pointer</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#2-content-%E2%80%98X%E2%80%99"><span class="nav-text">2. content: ‘X’;</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#3-not-x-not-o"><span class="nav-text">3. :not(.x):not(.o)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#4-game-board-x"><span class="nav-text">4. .game-board.x</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-3-flex%E5%B8%83%E5%B1%80"><span class="nav-text">10.0.3 flex布局</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-1-%E6%B8%B8%E6%88%8F%E5%87%86%E5%A4%87"><span class="nav-text">10.1 游戏准备</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-1-1-%E6%B8%B8%E6%88%8F%E6%BC%94%E7%A4%BA"><span class="nav-text">10.1.1 游戏演示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-1-2-%E6%B8%B8%E6%88%8F%E6%A8%A1%E6%9D%BF%E8%AF%B4%E6%98%8E"><span class="nav-text">10.1.2 游戏模板说明</span></a></li></ol></li><li class="nav-item nav-level-3 active"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-%E7%82%B9%E5%87%BB%E4%B8%8B%E6%A3%8B"><span class="nav-text">10.2 点击下棋</span></a><ol class="nav-child"><li class="nav-item nav-level-4 active"><a class="nav-link active active-current" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-1-%E5%8D%95%E5%85%83%E6%A0%BC%E7%82%B9%E5%87%BB"><span class="nav-text">10.2.1 单元格点击</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-2-%E5%88%87%E6%8D%A2%E7%8E%A9%E5%AE%B6"><span class="nav-text">10.2.2 切换玩家</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-3-%E6%9E%9A%E4%B8%BE"><span class="nav-text">10.2.3 枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%EF%BC%9F"><span class="nav-text">1. 为什么要使用枚举？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#2-%E8%AF%AD%E6%B3%95"><span class="nav-text">2. 语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#3-%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE"><span class="nav-text">3. 使用枚举</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#4-%E9%97%AE%E9%A2%98%EF%BC%9A%E5%B0%86%E6%9E%9A%E4%B8%BE%E6%88%90%E5%91%98%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F%EF%BC%8C%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%E6%98%AF%E4%BB%80%E4%B9%88%E5%91%A2%EF%BC%9F"><span class="nav-text">4. 问题：将枚举成员赋值给变量，变量的值是什么呢？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#5-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%9A%E4%B8%BE%EF%BC%9B"><span class="nav-text">5. 字符串枚举；</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#6-%E6%80%BB%E7%BB%93"><span class="nav-text">6. 总结</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#7-%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%E4%BF%AE%E6%94%B9%E5%BD%93%E5%89%8D%E7%8E%A9%E5%AE%B6"><span class="nav-text">7. 使用枚举修改当前玩家</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-%E6%B8%B8%E6%88%8F%E5%88%A4%E8%B5%A2"><span class="nav-text">10.3 游戏判赢</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-1-%E5%88%A4%E8%B5%A2%E6%80%9D%E8%B7%AF"><span class="nav-text">10.3.1 判赢思路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-2-%E5%88%86%E6%9E%90%E7%9B%98%E8%B5%A2%E6%95%B0%E7%BB%84"><span class="nav-text">10.3.2 分析盘赢数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-3-%E5%8D%95%E5%85%83%E6%A0%BC%E5%85%83%E7%B4%A0%E5%88%97%E8%A1%A8%E8%AF%B4%E6%98%8E"><span class="nav-text">10.3.3 单元格元素列表说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-4-%E5%B0%81%E8%A3%85%E5%88%A4%E8%B5%A2%E5%87%BD%E6%95%B0"><span class="nav-text">10.3.4 封装判赢函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-5-%E5%AE%9E%E4%B9%A0%E5%88%A4%E8%B5%A2%E5%87%BD%E6%95%B0"><span class="nav-text">10.3.5 实习判赢函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-6-%E4%BC%98%E5%8C%96%E5%88%A4%E8%B5%A2%E5%87%BD%E6%95%B0"><span class="nav-text">10.3.6 优化判赢函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-7-%E5%88%A4%E6%96%AD%E5%B9%B3%E5%B1%80"><span class="nav-text">10.3.7 判断平局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-8-%E5%B1%95%E7%A4%BA%E8%8E%B7%E8%83%9C%E4%BF%A1%E6%81%AF%EF%BC%9B"><span class="nav-text">10.3.8 展示获胜信息；</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-4-%E9%87%8D%E5%BC%80%E6%B8%B8%E6%88%8F"><span class="nav-text">10.4 重开游戏</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-4-2-%E4%BC%98%E5%8C%96%E9%87%8D%E6%96%B0%E6%B8%B8%E6%88%8F"><span class="nav-text">10.4.2 优化重新游戏</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-5-%E6%80%BB%E7%BB%93"><span class="nav-text">10.5 总结</span></a></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="qilin" src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/7.jpg">
  <p class="site-author-name" itemprop="name">qilin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="https://cqilin.gitee.io/archives/">
        
          <span class="site-state-item-count">50</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="https://cqilin.gitee.io/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="https://cqilin.gitee.io/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top back-to-top-on">
    <i class="fa fa-arrow-up"></i>
    <span>19%</span>
  </div>
  <div class="reading-progress-bar" style="width: 18.89%;"></div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block animated fadeIn" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/7.jpg">
      <meta itemprop="name" content="qilin">
      <meta itemprop="description" content="">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="qilin&#39;s blog">
    </span>
      <header class="post-header animated fadeInDown">
        <h1 class="post-title" itemprop="name headline">
          2-typescript_First_Small_projects
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-08 09:02:39" itemprop="dateCreated datePublished" datetime="2020-08-08T09:02:39+08:00">2020-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-05 13:23:00" itemprop="dateModified" datetime="2020-09-05T13:23:00+08:00">2020-09-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="https://cqilin.gitee.io/categories/typescript/" itemprop="url" rel="index"><span itemprop="name">typescript</span></a>
                </span>
            </span>

          
            <span id="/1-(0~50)/2-ts_first_item/" class="post-meta-item leancloud_visitors" data-flag-title="2-typescript_First_Small_projects" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count">157</span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/1-(0~50)/2-ts_first_item/" itemprop="commentCount">0</span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>40k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 ≈</span>
              <span>37 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body animated fadeInDown" itemprop="articleBody">

      
        <h2 id="10-项目：下棋游戏"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-%E9%A1%B9%E7%9B%AE%EF%BC%9A%E4%B8%8B%E6%A3%8B%E6%B8%B8%E6%88%8F" class="headerlink" title="10. 项目：下棋游戏"></a>10. 项目：下棋游戏</h2><p><a href="https://cqilin.gitee.io/web_learn/">小作品网址</a></p>
<h3 id="10-0-html与css准备；"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-html%E4%B8%8Ecss%E5%87%86%E5%A4%87%EF%BC%9B" class="headerlink" title="10.0 html与css准备；"></a>10.0 html与css准备；</h3><h4 id="10-0-1-准备初始的html"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-1-%E5%87%86%E5%A4%87%E5%88%9D%E5%A7%8B%E7%9A%84html" class="headerlink" title="10.0.1 准备初始的html"></a>10.0.1 准备初始的html</h4><a id="more"></a>

<figure class="highlight html"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Tic Tac Toe 井字游戏<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span> /&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Tic Tac Toe 井字游戏<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></div></figure>

<p>修改h1的css</p>
<figure class="highlight css"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* 修改p标签的外边距 */</span></span><br><span class="line"><span class="hljs-selector-tag">p</span> {</span><br><span class="line">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">/* 设置背景颜色 */</span></span><br><span class="line"><span class="hljs-selector-tag">body</span> {</span><br><span class="line">    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f9f2e7</span>;</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">/* 标题 */</span></span><br><span class="line"><span class="hljs-selector-tag">h1</span> {</span><br><span class="line">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="line">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">60px</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#477998</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<hr>
<ol start="2">
<li><p>创建 .container，设置棋盘的长宽。</p>
<figure class="highlight html"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Tic Tac Toe 井字游戏<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></div></figure>

<br>

<figure class="highlight css"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-class">.container</span> {</span><br><span class="line">    <span class="hljs-attribute">position</span>: relative;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">471px</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">471px</span>;</span><br><span class="line">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></div></figure>

<p>2.1 在里面 创建 <code>&lt;div id="bord" class="game-board x"&gt;</code></p>
<figure class="highlight html"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Tic Tac Toe 井字游戏<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"bord"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"game-board x"</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>board：板子；game-board: 游戏板；</p>
<p>id=”bord” ； 用于ts定位；</p>
<p>x；也许代表x轴；</p>
</blockquote>
</li>
<li><p>为了节省时间这次先全给出，笔记其难点；</p>
<figure class="highlight html"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Tic Tac Toe<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span> /&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Tic Tac Toe<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span></span><br><span class="line">      <span class="hljs-comment">&lt;!-- 游戏面板（棋盘） --&gt;</span></span><br><span class="line">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"bord"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"game-board x"</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cell"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="hljs-comment">&lt;!-- 游戏获胜信息面板 --&gt;</span></span><br><span class="line">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"game-message"</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"winner"</span>&gt;</span>X 赢了！<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"restart"</span>&gt;</span>重新开始<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<p>css全：</p>
<figure class="highlight css"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">p</span> {</span><br><span class="line">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-tag">body</span> {</span><br><span class="line">    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f9f2e7</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* 标题 */</span></span><br><span class="line"><span class="hljs-selector-tag">h1</span> {</span><br><span class="line">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="line">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">60px</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#477998</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* 游戏内容容器 */</span></span><br><span class="line"><span class="hljs-selector-class">.container</span> {</span><br><span class="line">    <span class="hljs-attribute">position</span>: relative;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">471px</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">471px</span>;</span><br><span class="line">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* 游戏面板棋盘 */</span></span><br><span class="line"><span class="hljs-selector-class">.game-board</span> {</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">471px</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">471px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-class">.game-board</span><span class="hljs-selector-class">.x</span> <span class="hljs-selector-class">.cell</span><span class="hljs-selector-pseudo">:not(.x)</span><span class="hljs-selector-pseudo">:not(.o)</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::before</span> {</span><br><span class="line">    <span class="hljs-attribute">content</span>: <span class="hljs-string">'X'</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: lightgray;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-class">.game-board</span><span class="hljs-selector-class">.o</span> <span class="hljs-selector-class">.cell</span><span class="hljs-selector-pseudo">:not(.x)</span><span class="hljs-selector-pseudo">:not(.o)</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::before</span> {</span><br><span class="line">    <span class="hljs-attribute">content</span>: <span class="hljs-string">'O'</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: lightgray;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* 棋盘 - 行 */</span></span><br><span class="line"><span class="hljs-selector-class">.row</span> {</span><br><span class="line">    <span class="hljs-attribute">display</span>: flex;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-class">.row</span><span class="hljs-selector-pseudo">:last-child</span> <span class="hljs-selector-class">.cell</span> {</span><br><span class="line">    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* 棋盘 - 单元格 */</span></span><br><span class="line"><span class="hljs-selector-class">.cell</span> {</span><br><span class="line">    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">157px</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">157px</span>;</span><br><span class="line">    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">157px</span>;</span><br><span class="line">    <span class="hljs-attribute">border-right</span>: <span class="hljs-number">6px</span> solid <span class="hljs-number">#546363</span>;</span><br><span class="line">    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">6px</span> solid <span class="hljs-number">#546363</span>;</span><br><span class="line">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="line">    <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">88px</span>;</span><br><span class="line">    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Gill Sans'</span>, <span class="hljs-string">'Gill Sans MT'</span>, Calibri, sans-serif;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-class">.cell</span><span class="hljs-selector-pseudo">:last-child</span> {</span><br><span class="line">    <span class="hljs-attribute">border-right</span>: <span class="hljs-number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* 游戏获胜信息面板 */</span></span><br><span class="line"><span class="hljs-selector-class">.game-message</span> {</span><br><span class="line">    <span class="hljs-attribute">display</span>: none;</span><br><span class="line">    <span class="hljs-attribute">position</span>: absolute;</span><br><span class="line">    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">69</span>, <span class="hljs-number">133</span>, <span class="hljs-number">136</span>, <span class="hljs-number">0.4</span>);</span><br><span class="line">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* winner 获胜者 */</span></span><br><span class="line"><span class="hljs-selector-class">.game-message</span> <span class="hljs-selector-tag">p</span> {</span><br><span class="line">    <span class="hljs-attribute">margin</span>: <span class="hljs-number">180px</span> <span class="hljs-number">0</span> <span class="hljs-number">40px</span> <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</span><br><span class="line">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* 重新开始游戏按钮 */</span></span><br><span class="line"><span class="hljs-selector-class">.game-message</span> <span class="hljs-selector-tag">button</span> {</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#517304</span>;</span><br><span class="line">    <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#517304</span>;</span><br><span class="line">    <span class="hljs-attribute">width</span>: <span class="hljs-number">110px</span>;</span><br><span class="line">    <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;</span><br><span class="line">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;</span><br><span class="line">    <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* x 玩家 */</span></span><br><span class="line"><span class="hljs-selector-class">.cell</span><span class="hljs-selector-class">.x</span><span class="hljs-selector-pseudo">::before</span> {</span><br><span class="line">    <span class="hljs-attribute">content</span>: <span class="hljs-string">'X'</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#01a8c6</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* o 玩家 */</span></span><br><span class="line"><span class="hljs-selector-class">.cell</span><span class="hljs-selector-class">.o</span><span class="hljs-selector-pseudo">::before</span> {</span><br><span class="line">    <span class="hljs-attribute">content</span>: <span class="hljs-string">'O'</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#8fbe01</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

</li>
</ol>
<h4 id="10-0-2-标签解"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-2-%E6%A0%87%E7%AD%BE%E8%A7%A3" class="headerlink" title="10.0.2 标签解"></a>10.0.2 标签解</h4><h5 id="1-cursor-pointer"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#1-cursor-pointer" class="headerlink" title="1.cursor: pointer"></a>1.cursor: pointer</h5><p>cursor 属性规定要显示的光标的类型（形状）。</p>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/cssref/pr_class_cursor.asp">https://www.w3school.com.cn/cssref/pr_class_cursor.asp</a></p>
<p>pointer    光标呈现为指示链接的指针（一只手）</p>
<h5 id="2-content-‘X’"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#2-content-%E2%80%98X%E2%80%99" class="headerlink" title="2. content: ‘X’;"></a>2. content: ‘X’;</h5><p>content 属性与 :before 及 :after 伪元素配合使用，来插入生成内容。</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/pr-gen-content.html">https://www.runoob.com/cssref/pr-gen-content.html</a></p>
<p>插入 ‘X’</p>
<h5 id="3-not-x-not-o"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#3-not-x-not-o" class="headerlink" title="3. :not(.x):not(.o)"></a>3. :not(.x):not(.o)</h5><p>:not(<em>selector</em>) 选择器匹配非指定元素/选择器的每个元素。</p>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/cssref/selector_not.asp">https://www.w3school.com.cn/cssref/selector_not.asp</a></p>
<h5 id="4-game-board-x"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#4-game-board-x" class="headerlink" title="4. .game-board.x"></a>4. .game-board.x</h5><p>同时包含两个类，同时包含 game-board 与 x 的class; </p>
<blockquote>
<p>必须一个class里面有这两个都在，才会有效果</p>
</blockquote>
<p>如果是分隔开：<code>.game-board .x</code>表示同时赋予这两个类各种属性</p>
<blockquote>
<p>两个class ；</p>
</blockquote>
<h4 id="10-0-3-flex布局"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-0-3-flex%E5%B8%83%E5%B1%80" class="headerlink" title="10.0.3 flex布局"></a>10.0.3 flex布局</h4><blockquote>
<p>我想：为什么不 display：inline ；因为内联元素没有宽度。</p>
<p>宽度就是它的文字或图片的宽度，不可改变。</p>
<p><img src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/pM4REPJYef51Tnq.png" alt="1"></p>
</blockquote>
<ol start="2">
<li><p>flex布局是什么？</p>
<p>flex布局语法：<a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/flex-grammar.html">https://www.runoob.com/w3cnote/flex-grammar.html</a></p>
<p>display:flex 布局–简书：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d9373a86b748/">https://www.jianshu.com/p/d9373a86b748/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV14J4114768?p=416">黑马link老师</a>–不过这里讲的主要是为移动端服务</p>
</li>
</ol>
<hr>
<h3 id="10-1-游戏准备"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-1-%E6%B8%B8%E6%88%8F%E5%87%86%E5%A4%87" class="headerlink" title="10.1 游戏准备"></a>10.1 游戏准备</h3><h4 id="10-1-1-游戏演示"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-1-1-%E6%B8%B8%E6%88%8F%E6%BC%94%E7%A4%BA" class="headerlink" title="10.1.1 游戏演示"></a>10.1.1 游戏演示</h4><p>玩法：两个玩家，一个玩家使用（X），一个玩家使用（O），轮流在棋盘上下棋（点击单元格）。</p>
<p>获胜条件：横、竖、斜（对角线）三个棋子相同。<br>平局：棋盘满子，但是，不满足任何一种获胜条件。</p>
<h4 id="10-1-2-游戏模板说明"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-1-2-%E6%B8%B8%E6%88%8F%E6%A8%A1%E6%9D%BF%E8%AF%B4%E6%98%8E" class="headerlink" title="10.1.2 游戏模板说明"></a>10.1.2 游戏模板说明</h4><p>重点：运用学到的 TS 知识，来开发下棋游戏。<br>游戏的模板（HTML、CSS），已准备好，直接使用即可。</p>
<p>模板（HTML、CSS）的说明：</p>
<ol>
<li><p>下一步提示：给游戏面板（#bord）标签，添加 x 或 o 类名。</p>
</li>
<li><p>下棋（点击单元格）：给单元格（.cell）标签，添加 x 或 o 类名。</p>
<figure class="highlight css"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* x 玩家 */</span></span><br><span class="line"><span class="hljs-selector-class">.cell</span><span class="hljs-selector-class">.x</span><span class="hljs-selector-pseudo">::before</span> {</span><br><span class="line">    <span class="hljs-attribute">content</span>: <span class="hljs-string">'X'</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#01a8c6</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/* o 玩家 */</span></span><br><span class="line"><span class="hljs-selector-class">.cell</span><span class="hljs-selector-class">.o</span><span class="hljs-selector-pseudo">::before</span> {</span><br><span class="line">    <span class="hljs-attribute">content</span>: <span class="hljs-string">'O'</span>;</span><br><span class="line">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#8fbe01</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>



</li>
</ol>
<ol start="3">
<li>展示和隐藏获胜信息：设置获胜信息面板（#message）标签的样式属性 display。</li>
</ol>
<h3 id="10-2-点击下棋"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-%E7%82%B9%E5%87%BB%E4%B8%8B%E6%A3%8B" class="headerlink" title="10.2 点击下棋"></a>10.2 点击下棋</h3><h4 id="10-2-1-单元格点击"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-1-%E5%8D%95%E5%85%83%E6%A0%BC%E7%82%B9%E5%87%BB" class="headerlink" title="10.2.1 单元格点击"></a>10.2.1 单元格点击</h4><p>效果：点击棋盘的任意单元格，单元格显示 X（默认）。</p>
<ol>
<li><p>获取到所有的单元格列表。</p>
</li>
<li><p>遍历单元格列表，给每一个单元格添加点击事件。</p>
<blockquote>
<p><a href="https://cqilin.gitee.io/1-(0~50)/26-typescript_introduction/#2-%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1">event笔记所在处</a>；</p>
</blockquote>
</li>
<li><p>给当前被点击的单元格添加类名 x。</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 1. 获取到所有的单元格列表</span></span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-comment">//console.log(cells)</span></span><br><span class="line"><span class="hljs-comment">// 2. 遍历单元格列表</span></span><br><span class="line">cells.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// console.log(item)</span></span><br><span class="line">    <span class="hljs-comment">// 2.1 给每一个单元格添加点击事件</span></span><br><span class="line">    <span class="hljs-keyword">let</span> cell_2 = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    cell_2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>)</span>{</span><br><span class="line">      <span class="hljs-comment">// console.log('click') // 打印出点击事件本身</span></span><br><span class="line">      <span class="hljs-comment">// console.log('click', event.target)</span></span><br><span class="line">      <span class="hljs-comment">// 2.2 获取事件对象的元素；</span></span><br><span class="line">      <span class="hljs-keyword">let</span> target = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">      <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x。</span></span><br><span class="line">      target.classList.add(<span class="hljs-string">'x'</span>)</span><br><span class="line">    })</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></div></figure>
</li>
<li><p>回溯一下；</p>
<blockquote>
<p>4.1 我们要点击棋盘的任意单元格，单元格显示 X</p>
<p>4.2 得获取到所有单元格；</p>
<p><code>let cells = document.querySelectorAll('.cell')</code></p>
<p>4.3 获取到所有单元格后，它cells，成了一个数组。直接用它不行，一点全有效；得单独每个有效；获取到每一个，遍历；</p>
<p><code>cells.forEach(function (item) {}</code></p>
<p>4.4 获取到每一个后，添加点击事件；</p>
<p>4.4.1 item没有添加事件addEventListener的方法？是类型出错，类型注解；</p>
<p><code>let cell_2 = item as HTMLDivElement</code></p>
<p>4.4.2 添加点击事件；</p>
<p><code>cell_2.addEventListener('click', function (){}</code></p>
<p>4.5 点击完成后，需要每次点击会添加一个x的class类；</p>
<p>4.5.1 找到相应的dom</p>
<p><code>cell_2.addEventListener('click', function (event){}</code></p>
<p>4.5.2 添加类</p>
<p><code>event.target.classList.add('x')</code></p>
<p>报错找不到方法；</p>
<p>我们已知对应的dom是html的那边，找到相应的地方，vscode鼠标移动到。emm看不到？div看不到么。是div，类型注解它</p>
<p><code>let target = event.target as HTMLDivElement</code></p>
<p>再次添加类</p>
<p><code>event.target.classList.add('x')</code></p>
<p>over；</p>
</blockquote>
</li>
</ol>
<p>优化（1）：防止单元格重复点击，在添加事件时，使用 once 属性，让单元格只能被点击一次。</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line">cells.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">let</span> cell_2 = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    cell_2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>)</span>{</span><br><span class="line">      <span class="hljs-keyword">let</span> target = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">      target.classList.add(<span class="hljs-string">'x'</span>)</span><br><span class="line">    }, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>在9.3.5.3.3有说once；</p>
</blockquote>
<p>优化（2）：使用函数声明形式的事件处理程序（代码多了后，代码结构会更清晰）。</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span> (<span class="hljs-params">event</span>)</span>{</span><br><span class="line">      <span class="hljs-keyword">let</span> target = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">      target.classList.add(<span class="hljs-string">'x'</span>)</span><br><span class="line">    }</span><br><span class="line">cells.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">let</span> cell_2 = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    cell_2.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></div></figure>

<p>所以还是回到了我喜欢的模样；看我把forEach也拿出来；</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 1-1. 获取到所有的单元格列表</span></span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-comment">//console.log(cells)</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// console.log(item)</span></span><br><span class="line">    <span class="hljs-comment">// 1-2.1 给每一个单元格添加点击事件</span></span><br><span class="line">    <span class="hljs-keyword">let</span> cell_2 = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    cell_2.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">}</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span> (<span class="hljs-params">event</span>)</span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>) <span class="hljs-comment">// 打印出点击事件本身</span></span><br><span class="line">    <span class="hljs-comment">// 1-3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(<span class="hljs-string">'x'</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 1-2. 遍历单元格列表</span></span><br><span class="line">cells.forEach(forEach_1)</span><br></pre></td></tr></tbody></table></div></figure>

<p>这样才是最爽的；2020-8-9 12:56:56</p>
<ol start="3">
<li><p>注意</p>
<p>不过这么写，event不会自动给类型注解；</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span> (<span class="hljs-params">event: MouseEvent</span>)</span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>) <span class="hljs-comment">// 打印出点击事件本身</span></span><br><span class="line">    <span class="hljs-comment">// 1-3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(<span class="hljs-string">'x'</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<p>所以要给类型注解；不然.target不会出；</p>
</li>
<li><p>同理；</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// console.log(item)</span></span><br><span class="line">    <span class="hljs-comment">// 1-2.1 给每一个单元格添加点击事件</span></span><br><span class="line">    <span class="hljs-keyword">let</span> cell_2 = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    cell_2.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<p>也可以改为：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span> (<span class="hljs-params">item: HTMLDivElement</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// console.log(item)</span></span><br><span class="line">    <span class="hljs-comment">// 2.1 给每一个单元格添加点击事件</span></span><br><span class="line">    <span class="hljs-comment">// let cell_2 = item as HTMLDivElement</span></span><br><span class="line">    item.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>



</li>
</ol>
<h4 id="10-2-2-切换玩家"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-2-%E5%88%87%E6%8D%A2%E7%8E%A9%E5%AE%B6" class="headerlink" title="10.2.2 切换玩家"></a>10.2.2 切换玩家</h4><p>效果：玩家（X）和玩家（O）轮流交替下棋。</p>
<ol start="0">
<li><p>不能把target_3.classList.add(‘x’)，写死</p>
</li>
<li><p>创建一个存储当前玩家的变量（currentPlayer），默认值为：x。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://fanyi.baidu.com/translate?aldtype=16047&amp;query=Counter&amp;keyfrom=baidu&amp;smartresult=dict&amp;lang=auto2zh#en/zh/current">current – 读音</a>；currentPlayer：当前玩家；</p>
</blockquote>
</li>
<li><p>将添加给单元格时写死的类名 x ，替换为变量（currentPlayer）的值。</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> currentPlayer = <span class="hljs-string">'x'</span></span><br><span class="line">target_3.classList.add(currentPlayer)</span><br></pre></td></tr></tbody></table></div></figure>



</li>
</ol>
<ol start="3">
<li><p>切换到另一个玩家：在添加类名（下棋完成一步）后，根据当前玩家，得到另外一个玩家。</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span> (<span class="hljs-params">event: MouseEvent</span>)</span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>) <span class="hljs-comment">// 打印出点击事件本身</span></span><br><span class="line">    <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(<span class="hljs-string">'x'</span>)</span><br><span class="line">    <span class="hljs-comment">// 2-1.关键点：根据当前玩家，得到另一个玩家</span></span><br><span class="line">    currentPlayer = currentPlayer === <span class="hljs-string">'x'</span> ? <span class="hljs-string">'o'</span> : <span class="hljs-string">'x'</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>



</li>
</ol>
<ol start="4">
<li><p>处理下一步提示：移除游戏面板中的 x 和 o 类名，添加下一个玩家对应的类名。</p>
<blockquote>
<p>4.1 因为html那边是：<code>&lt;div id="bord" class="game-board x"&gt;</code></p>
<p>所以下一步提示一直是 X；</p>
<p>4.2 想让提示变成O，得把<code>game-board x</code> 变成<code>game-board o</code></p>
</blockquote>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 2-1.关键点：根据当前玩家，得到另一个玩家</span></span><br><span class="line">currentPlayer = currentPlayer === <span class="hljs-string">'x'</span> ? <span class="hljs-string">'o'</span> : <span class="hljs-string">'x'</span></span><br><span class="line"><span class="hljs-comment">// 2-2.处理下一步提示；移除游戏面板中的 x 和 o 类名</span></span><br><span class="line"><span class="hljs-comment">// 2-2.1 先拿到对应的元素，正好有id='bord'</span></span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"><span class="hljs-built_in">console</span>.log(gameBord) <span class="hljs-comment">//看拿到没；</span></span><br><span class="line"><span class="hljs-comment">// 2-2.2 移除游戏面板中的 x 和 o 类名</span></span><br><span class="line">gameBord.classList.remov(<span class="hljs-string">'x'</span>, <span class="hljs-string">'o'</span>)<span class="hljs-comment">//两个都要，有谁除谁</span></span><br><span class="line"><span class="hljs-comment">// 2-2.3 然后添加下一步应该要下的类名；</span></span><br><span class="line">game.Bord.classList.add(currentPlayer)</span><br></pre></td></tr></tbody></table></div></figure>
<blockquote>
<p>突发奇想：如果让先手为o，如何修改？</p>
<p>将 let currentPlayer = ‘x’ 改为   ‘o’ 吗？</p>
</blockquote>
<figure class="highlight bash"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">let</span> currentPlayer = <span class="hljs-string">'o'</span></span><br></pre></td></tr></tbody></table></div></figure>

<p>..2020-8-9 13:46:31</p>
</li>
</ol>
<hr>
<h4 id="10-2-3-枚举"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-2-3-%E6%9E%9A%E4%B8%BE" class="headerlink" title="10.2.3 枚举"></a>10.2.3 枚举</h4><h5 id="1-为什么要使用枚举？"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%EF%BC%9F" class="headerlink" title="1. 为什么要使用枚举？"></a>1. 为什么要使用枚举？</h5><p>使用变量（currentPlayer）处理当前玩家，存在的问题：<br>变量的类型是 string，它的值可以是任意字符串。</p>
<p>如果不小心写错了（o → 0），代码不会报错，但功能就无法实现了，并且很难找错。</p>
<p>也就是：string 类型的变量，取值太宽泛，无法很好的限制值为 x 和 o。</p>
<p><font color="red">枚举</font>是组织有关联数据的一种方式（比如，x 和 o 就是有关联的数据）。</p>
<p>使用场景：当变量的值， <red>只能是几个固定值中的一个</red>，应该使用<red>枚举</red>来实现。</p>
<p>注意：<font color="red">JS 中没有枚举</font>，这是TS为了弥补 JS 自身不足而新增的。</p>
<h5 id="2-语法"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#2-%E8%AF%AD%E6%B3%95" class="headerlink" title="2. 语法"></a>2. 语法</h5><p>创建枚举的语法：</p>
<p><code>enum 枚举名称 { 成员1, 成员2, ... }</code></p>
<p>enum是关键字，只有使用它创建；</p>
<p>示例：</p>
<figure class="highlight crystal"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Gender</span> { <span class="hljs-title">Female</span>, <span class="hljs-title">Male</span> }</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Player</span> { <span class="hljs-title">X</span>, <span class="hljs-title">O</span> }</span></span><br></pre></td></tr></tbody></table></div></figure>

<p>约定枚举名称、<strong>成员名称</strong>以<red>大</red>写字母开头。</p>
<blockquote>
<p>所以这里原本是小写的x和o，也是大写X,O；</p>
</blockquote>
<p>多个成员之间使用逗号（,）分隔。</p>
<p>枚举中的成员哪来的？自己定的</p>
<p>注意：枚举中的成员，根据功能自己指定！</p>
<p>注意：枚举中的成员不是键值对！</p>
<h5 id="3-使用枚举"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#3-%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE" class="headerlink" title="3. 使用枚举"></a>3. 使用枚举</h5><p>枚举是一种类型，因此，<strong>可以其作为变量的类型注解</strong>。</p>
<blockquote>
<p>就像string，number一样；接口也是一种类型。emmm</p>
</blockquote>
<figure class="highlight crystal"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Gender</span> { <span class="hljs-title">Female</span>, <span class="hljs-title">Male</span> }</span></span><br><span class="line">let <span class="hljs-symbol">userGender:</span> Gender</span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>视频说的是，得类型注解了，才能访问枚举中的成员；</p>
<p>let userGender: Gender；才能  userGender = Gender.Female</p>
<p>未实验；2020-8-10 05:14:08</p>
</blockquote>
<p>访问枚举（Gender）中的成员，作为变量（userGender）的值：</p>
<figure class="highlight ini"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">userGender</span> = Gender.Female</span><br><span class="line"><span class="hljs-attr">userGender</span> = Gender.Male</span><br></pre></td></tr></tbody></table></div></figure>

<p>注意：枚举成员是只读的，也就是说枚举中的成员可以访问，但是不能赋值！</p>
<p><code>Gender.Female = '男' // 错误！</code></p>
<h5 id="4-问题：将枚举成员赋值给变量，变量的值是什么呢？"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#4-%E9%97%AE%E9%A2%98%EF%BC%9A%E5%B0%86%E6%9E%9A%E4%B8%BE%E6%88%90%E5%91%98%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F%EF%BC%8C%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%E6%98%AF%E4%BB%80%E4%B9%88%E5%91%A2%EF%BC%9F" class="headerlink" title="4. 问题：将枚举成员赋值给变量，变量的值是什么呢？"></a>4. 问题：将枚举成员赋值给变量，变量的值是什么呢？</h5><figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">enum</span> Gender { Female, Male }</span><br><span class="line"><span class="hljs-keyword">let</span> userGender: Gender = Gender.Female</span><br><span class="line"><span class="hljs-built_in">console</span>.log(userGender) <span class="hljs-comment">// 0</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(Gender.Female) <span class="hljs-comment">// 0</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(Gender.Male) <span class="hljs-comment">// 1</span></span><br></pre></td></tr></tbody></table></div></figure>

<p><strong>枚举成员是有值的</strong>，默认为：从 0 开始自增的数值。<br>我们把，枚举成员的值为数字的枚举，称为：<red>数字枚举</red>。</p>
<blockquote>
<p>什么？值不是成员本身么，打印出来居然是数字；</p>
<p>不过由这句话得出：枚举成员的值为数字的枚举，也有值不是数字的枚举；</p>
</blockquote>
<p>当然，也可以给枚举中的成员初始化值。</p>
<figure class="highlight protobuf"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Gender</span> </span>{ Female = <span class="hljs-number">1</span>, Male }  <span class="hljs-comment">// Female =&gt; 1 Male =&gt; 2</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Gender</span> </span>{ Female = <span class="hljs-number">1</span>, Male = <span class="hljs-number">100</span> } <span class="hljs-comment">// Female =&gt; 1 Male =&gt; 100</span></span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>没有设置，就自增长；设置了Female = 1，Male默认为1+1；</p>
</blockquote>
<h5 id="5-字符串枚举；"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#5-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%9A%E4%B8%BE%EF%BC%9B" class="headerlink" title="5. 字符串枚举；"></a>5. 字符串枚举；</h5><p>字符串枚举：枚举成员的值是字符串。</p>
<p><code>enum Gender { Female = '女', Male = '男' }</code></p>
<p>注意：字符串枚举没有自增长行为，因此，<strong>每个成员必须有初始值</strong>。</p>
<blockquote>
<p>如果这样：</p>
<figure class="highlight crystal"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Gender</span> {</span></span><br><span class="line"> Female = <span class="hljs-string">'女'</span>,</span><br><span class="line"> Male,</span><br><span class="line"> A</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<p>那么Male与A就会报错；</p>
</blockquote>
<figure class="highlight 1c"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.<span class="hljs-built_in">log</span>(Gender.Female) <span class="hljs-comment">// 女</span></span><br><span class="line">console.<span class="hljs-built_in">log</span>(Gender.Male) <span class="hljs-comment">// 男</span></span><br></pre></td></tr></tbody></table></div></figure>

<h5 id="6-总结"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#6-%E6%80%BB%E7%BB%93" class="headerlink" title="6. 总结"></a>6. 总结</h5><p>两种常用的枚举总结：</p>
<ol>
<li><p>数字枚举：枚举成员的值为数字，默认情况下就是数字枚举。</p>
<figure class="highlight protobuf"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Gender</span> </span>{ Female, Male }</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Gender</span> </span>{ Female = <span class="hljs-number">100</span>, Male } <span class="hljs-comment">// 初始化成员的值</span></span><br></pre></td></tr></tbody></table></div></figure>

<p>特点：成员的值是从 0 开始自增的数值。</p>
</li>
<li><p>字符串枚举：枚举成员的值为字符串。</p>
<p><code>enum Gender { Female = '女', Male = '男' }</code></p>
<p>特点：没有自增行为，需要为每一个成员赋值！</p>
<p><red>枚举是一组有名字的常量（只读）的集合。</red></p>
</li>
</ol>
<hr>
<h5 id="7-使用枚举修改当前玩家"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#7-%E4%BD%BF%E7%94%A8%E6%9E%9A%E4%B8%BE%E4%BF%AE%E6%94%B9%E5%BD%93%E5%89%8D%E7%8E%A9%E5%AE%B6" class="headerlink" title="7. 使用枚举修改当前玩家"></a>7. 使用枚举修改当前玩家</h5><p>效果：使用枚举代替原来的字符串类名（x 和 o）。</p>
<ol>
<li>创建字符串枚举（Player），提供 X 和 O 两个成员。</li>
<li>将成员 X 的值设置为：’x’（类名）；将成员 O 的值设置为：’o’（类名）。</li>
<li>将变量（currentPlayer）的类型设置为 Player 枚举类型，默认值为 Player.X。</li>
<li>将所有用到 x 和 o 的地方全部使用枚举成员代替。</li>
</ol>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 1. 创建字符串枚举（Player），提供 X 和 O 两个成员</span></span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">  <span class="hljs-comment">// 2. 将成员 X 的值设置为：'x'（类名）；将成员 O 的值设置为：'o'（类名）。</span></span><br><span class="line">    X = <span class="hljs-string">'x'</span></span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// 当前玩家</span></span><br><span class="line"><span class="hljs-comment">// let currentPlayer = x</span></span><br><span class="line"><span class="hljs-comment">// 3. 将变量（currentPlayer）的类型设置为 Player 枚举类型; 默认是，不需要设置；</span></span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer = Player.X</span><br><span class="line"><span class="hljs-comment">// 4. 将所有用到 x 和 o 的地方全部使用枚举成员代替。</span></span><br><span class="line"><span class="hljs-comment">//currentPlayer = currentPlayer === 'x' ? 'o' : 'x'</span></span><br><span class="line">currentPlayer = currentPlayer === Player.X ? Player.O : player.X</span><br><span class="line">gameBord.classList.remove(Player.X, Player.O)</span><br></pre></td></tr></tbody></table></div></figure>

<p>目前完整版：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 1. 获取到所有的单元格列表</span></span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-comment">//console.log(cells)</span></span><br><span class="line"><span class="hljs-comment">// 3-1. 创建字符串枚举（Player），提供 X 和 O 两个成员</span></span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// 3-2. 将所有用到 x 和 o 的地方全部使用枚举成员代替。</span></span><br><span class="line"><span class="hljs-comment">//let currentPlayer = 'x'</span></span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer = Player.X</span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span> (<span class="hljs-params">item: HTMLDivElement</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// console.log(item)</span></span><br><span class="line">    <span class="hljs-comment">// 2.1 给每一个单元格添加点击事件</span></span><br><span class="line">    <span class="hljs-comment">// let cell_2 = item as HTMLDivElement</span></span><br><span class="line">    item.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>) <span class="hljs-comment">// 打印出点击事件本身</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span> (<span class="hljs-params">event: MouseEvent</span>)</span>{  </span><br><span class="line">    <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line">    <span class="hljs-comment">// 根据当前玩家，得到另一个玩家</span></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line">    <span class="hljs-comment">// 改变下一步提示；</span></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 2. 遍历单元格列表</span></span><br><span class="line">cells.forEach(forEach_1)</span><br></pre></td></tr></tbody></table></div></figure>

<br>

<hr>
<h3 id="10-3-游戏判赢"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-%E6%B8%B8%E6%88%8F%E5%88%A4%E8%B5%A2" class="headerlink" title="10.3 游戏判赢"></a>10.3 游戏判赢</h3><h4 id="10-3-1-判赢思路"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-1-%E5%88%A4%E8%B5%A2%E6%80%9D%E8%B7%AF" class="headerlink" title="10.3.1 判赢思路"></a>10.3.1 判赢思路</h4><p>思路：判断棋盘中，横、竖、斜（对角线）是否存在三个相同的 x 或 o。</p>
<p>只要有一个满足条件，就说明 x 或 o 获胜了。<br>如果所有单元格都有内容，但没有获胜的情况，就说明是平局。<br>如何判断？</p>
<ol>
<li><p>单元格元素列表（ cells ）中，每个单元格元素都有自己的索引，如下图所示：</p>
<p><code>console.log(cells)</code>可以看到</p>
<p><img src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/wXyWEAuZsUH8a7B.png" alt=""></p>
</li>
<li><p>每个单元格都有自己的索引，如图：</p>
<p><img src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/aSf7wKJ1n8sT3qA.png" alt="2"></p>
</li>
<li><p>使用单元格索引，来表示每种获胜情况（使用数组来存储，比如： [0, 1, 2] ）。</p>
<figure class="highlight json"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 获胜的所有情况（8 种）：</span></span><br><span class="line">[</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">// 斜</span></span><br><span class="line">]</span><br></pre></td></tr></tbody></table></div></figure>

<p>然后，使用一个“大”数组（外层），来存储这  8 种情况（因为每次判赢都要判断所有情况）。<br>判断过程：遍历这个大数组，分别判断每一种情况对应的  3 个单元格元素，是否都是相同的  x 或  o 类名。<br>只要有一种情况满足，就说明获胜了。</p>
<blockquote>
<p>数组的元素可以是数组；</p>
</blockquote>
</li>
</ol>
<hr>
<h4 id="10-3-2-分析盘赢数组"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-2-%E5%88%86%E6%9E%90%E7%9B%98%E8%B5%A2%E6%95%B0%E7%BB%84" class="headerlink" title="10.3.2 分析盘赢数组"></a>10.3.2 分析盘赢数组</h4><p>数组的基本结构：<code>[ 元素1, 元素2, ... ]</code></p>
<p>判赢数组：每个元素又是数组（二维数组，概念知道即可）。</p>
<figure class="highlight angelscript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], ...</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></div></figure>

<p>只要是数组用法都一样，比如：</p>
<figure class="highlight markdown"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 访问数组元素：</span><br><span class="line">winsArr[0] // [0, 1, 2]</span><br><span class="line">winsArr[<span class="hljs-string">0</span>][<span class="hljs-symbol">1</span>] // 1</span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p><code>winsArr[0][1]</code></p>
<ol>
<li>winsArr[0] = [0, 1, 2]</li>
<li><code>winsArr[0][1]</code>=[0, 1, 2]里，索引为1的元素=1；</li>
</ol>
</blockquote>
<h4 id="10-3-3-单元格元素列表说明"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-3-%E5%8D%95%E5%85%83%E6%A0%BC%E5%85%83%E7%B4%A0%E5%88%97%E8%A1%A8%E8%AF%B4%E6%98%8E" class="headerlink" title="10.3.3 单元格元素列表说明"></a>10.3.3 单元格元素列表说明</h4><p>单元格元素列表（cells），实际上是一个<red>伪数组</red>。</p>
<p>伪数组的特征：具有长度（length）属性和索引。</p>
<p><img src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/wXyWEAuZsUH8a7B.png" alt=""></p>
<p>伪数组的操作：1 通过索引获取元素 2 使用 for 循环遍历（推荐使用 forEach 方法） 。</p>
<ol>
<li><p>通过索引获取元素</p>
<figure class="highlight css"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">console</span><span class="hljs-selector-class">.log</span>(<span class="hljs-selector-tag">cells</span><span class="hljs-selector-attr">[0]</span>)</span><br><span class="line"><span class="hljs-selector-tag">console</span><span class="hljs-selector-class">.log</span>(<span class="hljs-selector-tag">cells</span><span class="hljs-selector-attr">[1]</span>)</span><br></pre></td></tr></tbody></table></div></figure>
</li>
<li><p>使用 for 循环遍历</p>
<figure class="highlight matlab"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">for</span> (let <span class="hljs-built_in">i</span> = <span class="hljs-number">0</span>; <span class="hljs-built_in">i</span> &lt; cells.<span class="hljs-built_in">length</span>; <span class="hljs-built_in">i</span>++) {</span><br><span class="line">    console.<span class="hljs-built_in">log</span>(cells[<span class="hljs-built_in">i</span>])</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>
</li>
<li><p>使用forEach遍历</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line">cells.forEach(forEach_cells)</span><br></pre></td></tr></tbody></table></div></figure>

</li>
</ol>
<br>

<hr>
<h4 id="10-3-4-封装判赢函数"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-4-%E5%B0%81%E8%A3%85%E5%88%A4%E8%B5%A2%E5%87%BD%E6%95%B0" class="headerlink" title="10.3.4 封装判赢函数"></a>10.3.4 封装判赢函数</h4><ol>
<li><p>封装函数，主要考虑：参数和返回值。</p>
<p>该函数的返回值是什么？  布尔值（判断<red>是否</red>获胜）</p>
<p>该函数的有参数吗？是什么？   当前玩家</p>
<p>说明：判赢，就是在判断当前玩家下棋后是否获胜（玩家没下棋，不可能获胜，不需要判断）。</p>
<figure class="highlight reasonml"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 声明函数：</span></span><br><span class="line"><span class="hljs-keyword">function</span> check<span class="hljs-constructor">Win(<span class="hljs-params">player</span>: Player)</span>: boolean {}</span><br><span class="line"><span class="hljs-comment">// 调用函数：</span></span><br><span class="line"><span class="hljs-keyword">let</span> isWin = check<span class="hljs-constructor">Win(<span class="hljs-params">currentPlayer</span>)</span></span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>函数的参数是当前玩家，于是指定了一个形参：player</p>
<p>它的类型是：枚举player；∴ （player：player）</p>
<p>因为在代码中，是使用枚举来指定玩家的；</p>
</blockquote>
<blockquote>
<p>调用函数：</p>
<p>checkWin(currentPlayer) 当前玩家=currentPlayer，作为一个参数传递给函数checkWin</p>
<p>然后返回布尔值；给isWin；</p>
</blockquote>
<p>想不出返回值和参数怎么办？</p>
<p>技巧：如果想不到返回值和参数，可以反推，也就是从如何调用函数的角度来分析。</p>
<blockquote>
<ol>
<li><p>假如没有声明函数；</p>
<p>只有调用函数，或者是说，从调用函数开始思考</p>
</li>
<li><p>假设我们要封装的，需要被调用的，函数叫：checkWin；当然这个名字是任意的</p>
</li>
<li><p>然后想：这个函数要干嘛呢？要判赢；要通过它的返回值告诉我；</p>
<p>所以返回值类型应该是个 布尔值</p>
</li>
<li><p>我要判赢，我要判断谁赢呢？是当前玩家，那就把当前玩家=currentPlayer作为 参数 传递给声明函数的参数使用；</p>
</li>
</ol>
</blockquote>
</li>
<li><p>问题：什么时候判赢？ 玩家下棋后，或下棋时；</p>
</li>
<li><p>思路：</p>
<ol>
<li>声明函数（checkWin），指定参数（player），类型注解为：Player 枚举。</li>
<li>指定返回值：现在函数中写死返回 true 或 false。</li>
<li>在给单元格添加类名后（下棋后），调用函数 checkWin，拿到函数返回值。</li>
<li>判断函数返回值是否为 true，如果是，说明当前玩家获胜了。</li>
</ol>
</li>
<li><p>编码：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//封装判赢函数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params">player: Player</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-comment">//在写return true后，会自动给checkWin(player: Player)分配类型注解</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<br>

<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 调用判赢函数，判断是否获胜</span></span><br><span class="line"><span class="hljs-comment">// 因为是在玩家下棋时判断，所以在点击事件函数里面</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span> (<span class="hljs-params">event: MouseEvent</span>)</span>{  </span><br><span class="line">    <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line">  <span class="hljs-comment">// 调用判赢函数，判断是否获胜</span></span><br><span class="line">  <span class="hljs-comment">// 只要把当前下棋玩家判断，也就判断了每一步</span></span><br><span class="line">  <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line">  <span class="hljs-keyword">if</span> (isWin) {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'当前玩家获胜'</span>, currentPlayer)</span><br><span class="line">    <span class="hljs-comment">// 此时用console.log('当前玩家获胜', currentPlayer)来检测一下编码是否正确，有效</span></span><br><span class="line">  }</span><br><span class="line">    <span class="hljs-comment">// 根据当前玩家，得到另一个玩家</span></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line">    <span class="hljs-comment">// 改变下一步提示；</span></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>因为当前写死了 return true；</p>
<p>所以每次点击一下，就会有 当前玩家获胜 与 当前玩家（也就是下棋模样，下的X，就是x玩家，下的O，就是o玩家）</p>
</blockquote>
</li>
</ol>
<hr>
<h4 id="10-3-5-实习判赢函数"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-5-%E5%AE%9E%E4%B9%A0%E5%88%A4%E8%B5%A2%E5%87%BD%E6%95%B0" class="headerlink" title="10.3.5 实习判赢函数"></a>10.3.5 实习判赢函数</h4><p>思路：</p>
<p>遍历判赢数组，分别判断每种情况对应的  3 个单元格元素，是否同时包含当前玩家的类名。</p>
<p>问题：使用哪种方式遍历数组呢？</p>
<p><strong>只要有一种情况满足</strong>，就表示玩家获胜，后续的情况就没有必要再遍历，因此，数组遍历时可以终止。</p>
<p>判赢函数的返回值是布尔类型，如果玩家获胜（有一种情况满足），就返回 true；否则，返回 false。</p>
<p>数组的  some 方法：1 遍历数组时可终止 2 方法返回值为 true 或 false。</p>
<ol>
<li>使用 some 方法遍历数组，并将 some 方法的返回值作为判赢函数的返回结果。</li>
<li>在 some 方法的回调函数中，获取到每种获胜情况对应的 3 个单元格元素。</li>
<li>判断这 3 个单元格元素是否同时包含当前玩家的类名。</li>
<li>如果包含（玩家获胜），就在回调函数中返回 true 停止循环；否则，返回 false，继续下一次循环。</li>
</ol>
<p>先把判赢数组写上：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 10.3.5-1判赢数组</span></span><br><span class="line"><span class="hljs-keyword">let</span> winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">//横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">//斜</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 1. 获取到所有的单元格列表</span></span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-comment">// console.log(cells)</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3-1. 创建字符串枚举（Player），提供 X 和 O 两个成员</span></span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// 3-2. 将所有用到 x 和 o 的地方全部使用枚举成员代替。</span></span><br><span class="line"><span class="hljs-comment">//let currentPlayer = 'x'</span></span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer = Player.X</span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span>(<span class="hljs-params">item: HTMLDivElement</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// console.log(item)</span></span><br><span class="line">    <span class="hljs-comment">// 2.1 给每一个单元格添加点击事件</span></span><br><span class="line">    <span class="hljs-comment">// let cell_2 = item as HTMLDivElement</span></span><br><span class="line">    item.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">    <span class="hljs-comment">// console.log('click') // 打印出点击事件本身</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span>(<span class="hljs-params">event: MouseEvent</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.4-2. 调用判赢函数，判断是否获胜;因为是在玩家下棋时判断，所以在点击事件函数里面</span></span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line">    <span class="hljs-keyword">if</span> (isWin = <span class="hljs-literal">true</span>) {</span><br><span class="line">        <span class="hljs-comment">// 此时用console.log('当前玩家获胜', currentPlayer)来检测一下编码是否正确，有效</span></span><br><span class="line">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'当前玩家获胜'</span>, currentPlayer)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 根据当前玩家，得到另一个玩家</span></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line">    <span class="hljs-comment">// 改变下一步提示；</span></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 伪数组cells的遍历；</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.4-1. 封装判赢函数</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params">player: Player</span>) </span>{</span><br><span class="line">      <span class="hljs-comment">// 10.3.5-2. 取消写死的 判赢返回值</span></span><br><span class="line">      <span class="hljs-comment">// return true</span></span><br><span class="line">      <span class="hljs-comment">// 10.3.5-3. 使用 some 方法遍历数组，并将 some 方法的返回值作为判赢函数的返回结果。</span></span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = winsArr.some(some_isWin)</span><br><span class="line">    <span class="hljs-keyword">return</span> isWin</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">some_isWin</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">  <span class="hljs-comment">// 10.3.5-4. 在 some 方法的回调函数中，获取到每种获胜情况对应的 3 个单元格元素。</span></span><br><span class="line">  <span class="hljs-comment">// 4.1 先拿到每种获胜情况的三个索引</span></span><br><span class="line">  <span class="hljs-comment">// 4.1.1 看一下item拿到winsArr的元素没</span></span><br><span class="line">  <span class="hljs-comment">// 4.1.2 要注意，checkWin在函数 clickCell 里面，是一个点击事件，点击才有效果</span></span><br><span class="line">  <span class="hljs-built_in">console</span>.log(item) </span><br><span class="line">  <span class="hljs-comment">// 继续 4.1</span></span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line">  <span class="hljs-comment">// 4.1.3 打印实验，拿到每种获胜情况的三个索引</span></span><br><span class="line">  <span class="hljs-comment">//console.log(cellIndex1,cellIndex2,cellIndex3)</span></span><br><span class="line">  </span><br><span class="line">  <span class="hljs-comment">// 4.2 通过这三个索引，从cells中获取到对应的单元格元素</span></span><br><span class="line">  <span class="hljs-comment">// 从 4.1.3 过来后</span></span><br><span class="line">  <span class="hljs-comment">// 前面拿索引，这一步拿格子</span></span><br><span class="line">  <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">  <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">  <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">  <span class="hljs-comment">// console.log(cell1, cell2, cell3)</span></span><br><span class="line">  </span><br><span class="line">  <span class="hljs-comment">// 4.2 完成后干嘛？拿到了格子，要判断格子是否满足条件；</span></span><br><span class="line">  <span class="hljs-comment">// 我们看我们的函数，是some_isWin,它被let isWin = winsArr.some(some_isWin)用着</span></span><br><span class="line">  <span class="hljs-comment">// 被一个some用着，那必须要返回布尔值；</span></span><br><span class="line">  <span class="hljs-comment">// 那么这个判断依然在这里面写；</span></span><br><span class="line">  </span><br><span class="line">  <span class="hljs-comment">// 10.3.5-5 </span></span><br><span class="line">  <span class="hljs-comment">// 判断这 3 个单元格元素是否同时包含当前玩家的类名。</span></span><br><span class="line">  <span class="hljs-comment">// 重点：</span></span><br><span class="line">  <span class="hljs-comment">// 5.1. 元素是否包含类名 classList.contains();可以去文章1查</span></span><br><span class="line">  <span class="hljs-comment">// 5.2. 同时包含（第一个包含 并且 第二个包含，第三个包含）</span></span><br><span class="line">  <span class="hljs-comment">// 5.3. 逻辑运算符 &amp;&amp; 逻辑与，表示并且</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell3.classList.contains(player)</span><br><span class="line">    <span class="hljs-comment">// 此处player报错，千方百计，只好把全部重写回调里面去；</span></span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 2. 遍历单元格列表</span></span><br><span class="line">cells.forEach(forEach_1)</span><br><span class="line"><span class="hljs-comment">// cells.forEach(forEach_cells)</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<p>此处player报错，千方百计，只好把全部重写回调里面去；</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 10.3.5-1判赢数组</span></span><br><span class="line"><span class="hljs-keyword">let</span> winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">//横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">//斜</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3-1. 创建字符串枚举（Player），提供 X 和 O 两个成员</span></span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 1. 获取到所有的单元格列表</span></span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-comment">// console.log(cells)</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3-2. 将所有用到 x 和 o 的地方全部使用枚举成员代替。</span></span><br><span class="line"><span class="hljs-comment">// let currentPlayer = 'x'</span></span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer = Player.X</span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// forEach_1 &gt; clickCell &gt; checkWin &gt; some_isWin</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span>(<span class="hljs-params">item: HTMLDivElement</span>) </span>{</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// console.log(item)</span></span><br><span class="line">    <span class="hljs-comment">// 2.1 给每一个单元格添加点击事件</span></span><br><span class="line">    <span class="hljs-comment">// let cell_2 = item as HTMLDivElement</span></span><br><span class="line">    item.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">    <span class="hljs-comment">// console.log('click') // 打印出点击事件本身</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span>(<span class="hljs-params">event: MouseEvent</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.4-2. 调用判赢函数，判断是否获胜;因为是在玩家下棋时判断，所以在点击事件函数里面</span></span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (isWin = <span class="hljs-literal">true</span>) {</span><br><span class="line">        <span class="hljs-comment">// 此时用console.log('当前玩家获胜', currentPlayer)来检测一下编码是否正确，有效</span></span><br><span class="line">        <span class="hljs-comment">// console.log('当前玩家获胜', currentPlayer)</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 根据当前玩家，得到另一个玩家</span></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 改变下一步提示；</span></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.4-1. 封装判赢函数</span></span><br><span class="line"> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params"> player: Player </span>) </span>{</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// 10.3.5-2. 取消写死的 判赢返回值</span></span><br><span class="line">  <span class="hljs-comment">// return true</span></span><br><span class="line">  <span class="hljs-comment">// 10.3.5-3. 使用 some 方法遍历数组，并将 some 方法的返回值作为判赢函数的返回结果。</span></span><br><span class="line">  <span class="hljs-keyword">let</span> isWin = winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.5-4. 在 some 方法的回调函数中，获取到每种获胜情况对应的 3 个单元格元素。</span></span><br><span class="line">    <span class="hljs-comment">// 4.1 先拿到每种获胜情况的三个索引</span></span><br><span class="line">    <span class="hljs-comment">// 看一下item拿到winsArr的元素没</span></span><br><span class="line">    <span class="hljs-comment">// 要注意，checkWin在函数 clickCell 里面，是一个点击事件，点击才有效果</span></span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item) </span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line">  </span><br><span class="line">    <span class="hljs-comment">// 4.1.1 打印实验：每种获胜情况的三个索引</span></span><br><span class="line">    <span class="hljs-comment">// console.log(cellIndex1,cellIndex2,cellIndex3)</span></span><br><span class="line">    <span class="hljs-comment">// 4.2 通过这三个索引，从cells中获取到对应的单元格元素</span></span><br><span class="line">    <span class="hljs-comment">// 从 4.1.3 过来后</span></span><br><span class="line">    <span class="hljs-comment">// 前面拿索引，这一步拿格子</span></span><br><span class="line">    <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(cell1, cell2, cell3)</span><br><span class="line">  </span><br><span class="line">    <span class="hljs-comment">// 4.2 完成后干嘛？拿到了格子，要判断格子是否满足条件；</span></span><br><span class="line">    <span class="hljs-comment">// 我们看我们的函数，是some_isWin,它被let isWin = winsArr.some(some_isWin)用着</span></span><br><span class="line">    <span class="hljs-comment">// 被一个some用着，那必须要返回布尔值；</span></span><br><span class="line">    <span class="hljs-comment">// 那么这个判断依然在这里面写；</span></span><br><span class="line">  </span><br><span class="line">    <span class="hljs-comment">// 10.3.5-5 </span></span><br><span class="line">    <span class="hljs-comment">// 判断这 3 个单元格元素是否同时包含当前玩家的类名。</span></span><br><span class="line">    <span class="hljs-comment">// 重点：</span></span><br><span class="line">    <span class="hljs-comment">// 5.1. 元素是否包含类名 classList.contains();可以去文章1查</span></span><br><span class="line">    <span class="hljs-comment">// 5.2. 同时包含（第一个包含 并且 第二个包含，第三个包含）</span></span><br><span class="line">    <span class="hljs-comment">// 5.3. 逻辑运算符 &amp;&amp; 逻辑与，表示并且</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell1.classList.contains(player)</span><br><span class="line">    ) {</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">  })</span><br><span class="line">  <span class="hljs-keyword">return</span> isWin</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 伪数组cells的遍历；</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 2. 遍历单元格列表</span></span><br><span class="line">cells.forEach(forEach_1)</span><br><span class="line"><span class="hljs-comment">// cells.forEach(forEach_cells)</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<ol start="5">
<li><p>如果，你遇到每点一下，就出一个 当前玩家获胜 x or o 获胜</p>
<p><img src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/EPnOxswypDKLN2g.png" alt="1"></p>
<p>也许是你代码：</p>
<figure class="highlight swift"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    cell1.classList.<span class="hljs-built_in">contains</span>(player) &amp;&amp;</span><br><span class="line">    cell1.classList.<span class="hljs-built_in">contains</span>(player) &amp;&amp;</span><br><span class="line">    cell1.classList.<span class="hljs-built_in">contains</span>(player)</span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// cell1，全不写成了 1</span></span><br></pre></td></tr></tbody></table></div></figure>

<p>改正：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell3.classList.contains(player)</span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// cell1，全不写成了 1</span></span><br></pre></td></tr></tbody></table></div></figure>

<p><img src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/akC13UyTKwn9SJX.png" alt="2"></p>
<p>…</p>
</li>
</ol>
<p>回顾：</p>
<ol>
<li><p>使用 some 方法遍历数组，并将 some 方法的返回值作为判赢函数的返回结果。</p>
<blockquote>
<p>1.1 为什么要使用some，应为返回true后就停止</p>
<p>它的作用是用来查找出数组中是否有一个满足条件情况。找到一种就返回true停止遍历；</p>
</blockquote>
</li>
<li><p>在 some 方法的回调函数中，获取到每种获胜情况对应的 3 个单元格元素。</p>
<blockquote>
<p>用some，只拿到了winsArr数组中的每个元素；</p>
<p>item拿到的是每个元素是一个数组；</p>
<p>在写 cellIndex拿到每个 item里的 每一个索引；</p>
<p>拿到每一个单元格的索引后；</p>
<p>去伪数组cells拿到每个单元格的元素；</p>
</blockquote>
</li>
<li><p>判断这 3 个单元格元素是否同时包含当前玩家的类名。</p>
<blockquote>
<p>拿到元素后</p>
<p>判断3个单元格中，是否同时包含某玩家类名</p>
<p>用逻辑与</p>
</blockquote>
</li>
<li><p>如果包含（玩家获胜），就在回调函数中返回 true 停止循环；否则，返回 false，继续下一次循环。</p>
<blockquote>
<p>if条件成立，说明三个元素同时包含</p>
<p>返回true终止后面的循环，并返回那个玩家类名</p>
</blockquote>
</li>
</ol>
<hr>
<h4 id="10-3-6-优化判赢函数"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-6-%E4%BC%98%E5%8C%96%E5%88%A4%E8%B5%A2%E5%87%BD%E6%95%B0" class="headerlink" title="10.3.6 优化判赢函数"></a>10.3.6 优化判赢函数</h4><ol start="0">
<li><p>感觉没必要</p>
</li>
<li><p>去掉判赢函数的中间变量（isWin、cell1、cell2、cell3）。</p>
</li>
<li><p>封装函数（hasClass）：判断 DOM 元素是否包含某个类名。2020-8-10 10:04:03(已经6个小时了）</p>
</li>
<li><p>回到代码；</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> isWin = winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">  <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">  <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell3.classList.contains(player)</span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">})</span><br><span class="line"><span class="hljs-keyword">return</span> isWin</span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>3.1 虽然调用了数组的.some方法</p>
<p>目的是返回值，把some方法的返回值存储到了isWin</p>
<p>然后在 return isWin=返回isWin，也就是some方法的返回值</p>
<p>先拿到isWin , 再返回isWin，是一个中转效果，是一个中间变量</p>
<p>∴ 可以改为：</p>
<p>return winsArr.some()</p>
</blockquote>
<p>修改：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">  <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">  <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">    cell3.classList.contains(player)</span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">})</span><br><span class="line">   </span><br></pre></td></tr></tbody></table></div></figure>
</li>
<li><p>接着是cell1、cell2、cell3</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    cells[cellIndex1].classList.contains(player) &amp;&amp;</span><br><span class="line">    cells[cellIndex2].classList.contains(player) &amp;&amp;</span><br><span class="line">    cells[cellIndex3].classList.contains(player)</span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">})</span><br><span class="line">   </span><br></pre></td></tr></tbody></table></div></figure>

<p>不建议把cellIndex1 替换成 item[0]。视频说；</p>
<p>我个人觉得没什么</p>
<hr>
</li>
<li><p>回到 2.封装函数（hasClass）：判断 DOM 元素是否包含某个类名</p>
<figure class="highlight lisp"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (</span><br><span class="line">  cells[cellIndex1].classList.contains(<span class="hljs-name">player</span>) <span class="hljs-symbol">&amp;&amp;</span></span><br><span class="line">  cells[cellIndex2].classList.contains(<span class="hljs-name">player</span>) <span class="hljs-symbol">&amp;&amp;</span></span><br><span class="line">  cells[cellIndex3].classList.contains(<span class="hljs-name">player</span>)</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></div></figure>

<p>太重复，可以改；</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasClass</span>(<span class="hljs-params">el: Element, name: <span class="hljs-built_in">string</span></span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> el.classList.contains(name)</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<blockquote>
<p>// 用：let a = cells[cellIndex1] 然后鼠标放在a上看类型；<br>// 类型是Element，便可以指定el的类型；<br>// el: Element</p>
<p>参数弄好后；就可以查看 DOM 元素是否包含某个类名</p>
<p>el.classList.contains(name)</p>
<p>contains方法返回的是布尔值；鼠标放上去可以查看；</p>
<p>把：注释掉</p>
<p> // cells[cellIndex1].classList.contains(player) &amp;&amp;<br> // cells[cellIndex2].classList.contains(player) &amp;&amp;<br> // cells[cellIndex3].classList.contains(player)</p>
<p>在if里面调用函数 hasClass（）填入要判断的dom元素：</p>
<p><code>hasClass(cells[cellIndex1])</code></p>
<p>…</p>
</blockquote>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">  <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line">   </span><br><span class="line">  <span class="hljs-keyword">if</span> (</span><br><span class="line">    hasClass(cells[cellIndex1], player) &amp;&amp;</span><br><span class="line">    hasClass(cells[cellIndex2], player) &amp;&amp;</span><br><span class="line">    hasClass(cells[cellIndex3], player) </span><br><span class="line">  ) {</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">})</span><br><span class="line">   </span><br></pre></td></tr></tbody></table></div></figure>

<p>….</p>
<p>我觉得没啥必要；</p>
<hr>
</li>
</ol>
<h4 id="10-3-7-判断平局"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-7-%E5%88%A4%E6%96%AD%E5%B9%B3%E5%B1%80" class="headerlink" title="10.3.7 判断平局"></a>10.3.7 判断平局</h4><p>思路：创建变量（steps），记录已下棋的次数，判断 steps 是否等于 9，如果等于说明平局。<br>注意：先判赢，再判断平局！</p>
<p><a target="_blank" rel="noopener" href="https://fanyi.baidu.com/?aldtype=16047#en/zh/steps">steps–翻译</a>；</p>
<ol>
<li><p>创建变量（steps），默认值为 0。</p>
</li>
<li><p>在玩家下棋后，让 steps 加 1。</p>
</li>
<li><p>在判赢的代码后面，判断 steps 是否等于 9。</p>
<blockquote>
<p>那这不是，拜拜判断多次；直接是否&gt;8，或者直接判断是否=9</p>
<p>不需要跟着 判赢的代码后面 多次判断；</p>
</blockquote>
</li>
<li><p>如果等于 9 说明是平局，游戏结束，就直接 return，不再执行后续代码。</p>
</li>
</ol>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 10.3.7-1. 记录已下棋的次数</span></span><br><span class="line"><span class="hljs-keyword">let</span> steps = <span class="hljs-number">0</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line"><span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">arget_3.classList.add(currentPlayer)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 在点击事件后面</span></span><br><span class="line"><span class="hljs-comment">// 10.3.7-2. 在玩家下棋后，让 steps 加 1。</span></span><br><span class="line">steps++</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span> (isWin) {</span><br><span class="line">  <span class="hljs-comment">// 此时用console.log('当前玩家获胜', currentPlayer)来检测一下编码是否正确，有效</span></span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'当前玩家获胜'</span>, currentPlayer)</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// 10.3.7-3在判赢的代码后面，判断 steps 是否等于 9。</span></span><br><span class="line"> <span class="hljs-keyword">if</span> ( steps === <span class="hljs-number">9</span>) {</span><br><span class="line">   <span class="hljs-comment">// 10.3.7-4.如果等于 9 说明是平局，游戏结束，就直接 return，不再执行后续代码。</span></span><br><span class="line">   <span class="hljs-comment">// 因为游戏已经结束，所以，此处直接return</span></span><br><span class="line">   <span class="hljs-comment">// 来可以阻止后续代码执行</span></span><br><span class="line">   <span class="hljs-keyword">return</span> </span><br><span class="line">}</span><br><span class="line"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">'平局之后'</span>)</span><br></pre></td></tr></tbody></table></div></figure>

<br>

<hr>
<h4 id="10-3-8-展示获胜信息；"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-3-8-%E5%B1%95%E7%A4%BA%E8%8E%B7%E8%83%9C%E4%BF%A1%E6%81%AF%EF%BC%9B" class="headerlink" title="10.3.8 展示获胜信息；"></a>10.3.8 展示获胜信息；</h4><p>效果：在获胜或平局时，展示相应信息。</p>
<ol>
<li>获取到与获胜信息相关的两个 DOM 元素：1 #message 2 #winner。</li>
<li>显示获胜信息面板（通过 style 属性实现）。</li>
<li>展示获胜信息：如果获胜，展示“x 赢了！”或“o 赢了！”；如果是平局，展示“平局”。</li>
</ol>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">//横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">//斜</span></span><br><span class="line">]</span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"><span class="hljs-comment">// 10.3.8-1. 获胜信息面板</span></span><br><span class="line"><span class="hljs-keyword">let</span> message = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#message'</span>) <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line"><span class="hljs-comment">// 10.3.8-1.2 获胜者</span></span><br><span class="line"><span class="hljs-keyword">let</span> winner = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#winner'</span>) <span class="hljs-keyword">as</span> HTMLParagraphElement</span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer = Player.X</span><br><span class="line"><span class="hljs-keyword">let</span> steps = <span class="hljs-number">0</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// forEach_1 &gt; clickCell &gt; checkWin &gt; some_isWin</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span>(<span class="hljs-params">item: HTMLDivElement</span>) </span>{</span><br><span class="line">    item.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">}</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span>(<span class="hljs-params">event: MouseEvent</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line"></span><br><span class="line">    steps++</span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (isWin) {</span><br><span class="line">      <span class="hljs-comment">// 10.3.8-3.展示获胜信息：如果获胜，展示“x 赢了！”或“o 赢了！”；如果是平局，展示“平局”。</span></span><br><span class="line">      <span class="hljs-comment">// 获胜的信息最终要 id="winner" 里  &lt;p id="winner"&gt;X 赢了！&lt;/p&gt;</span></span><br><span class="line">      winner.innerText = currentPlayer + <span class="hljs-string">'赢了'</span></span><br><span class="line">      <span class="hljs-comment">// 10.3.8-2.显示信息面板（通过 style 属性实现）。</span></span><br><span class="line">      message.style.display = <span class="hljs-string">'block'</span></span><br><span class="line">        <span class="hljs-keyword">return</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ( steps === <span class="hljs-number">9</span>) {</span><br><span class="line">      <span class="hljs-comment">// 10.3.8-2.2.显示信息面板（通过 style 属性实现）。</span></span><br><span class="line">      message.style.display = <span class="hljs-string">'block'</span></span><br><span class="line">      winner.innerText = <span class="hljs-string">'平局'</span></span><br><span class="line">      <span class="hljs-keyword">return</span> </span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'平局之后'</span>)</span><br><span class="line"></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line"></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params"> player: Player </span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]  </span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">if</span> (</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell3.classList.contains(player)</span><br><span class="line">    ) {</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">  }) </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line">cells.forEach(forEach_1)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<br>

<hr>
<h3 id="10-4-重开游戏"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-4-%E9%87%8D%E5%BC%80%E6%B8%B8%E6%88%8F" class="headerlink" title="10.4 重开游戏"></a>10.4 重开游戏</h3><p>效果：点击重新开始按钮，重新开始下棋游戏。</p>
<p>说明：重新开始游戏，实际上就是要<red>重置游戏中的所有数据</red>，恢复到初始状态。</p>
<p>比如：隐藏获胜信息、重置下棋次数、清空棋盘等等。</p>
<ol>
<li>获取到重新开始按钮（#restart），并绑定点击事件。</li>
<li>在点击事件中，重置游戏数据。</li>
<li>隐藏获胜信息、清空棋盘、移除单元格点击事件、重新给单元格绑定点击事件。</li>
<li>重置下棋次数、重置默认玩家为 x、重置下棋提示为 x。</li>
</ol>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">//横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">//斜</span></span><br><span class="line">]</span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"><span class="hljs-keyword">let</span> message = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#message'</span>) <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line"><span class="hljs-keyword">let</span> winner = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#winner'</span>) <span class="hljs-keyword">as</span> HTMLParagraphElement</span><br><span class="line"><span class="hljs-comment">// 10.4-1. 重新开始按钮</span></span><br><span class="line"><span class="hljs-keyword">let</span> restart = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#restart'</span>) <span class="hljs-keyword">as</span> HTMLButtonElement</span><br><span class="line"><span class="hljs-built_in">console</span>.log(restart)</span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer = Player.X</span><br><span class="line"><span class="hljs-keyword">let</span> steps = <span class="hljs-number">0</span></span><br><span class="line"><span class="hljs-comment">// 10.4-1.2 绑定点击事件</span></span><br><span class="line">restart.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)</span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>)</span><br><span class="line">  <span class="hljs-comment">// restart 是button 要按钮出来后点击才有效；</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-3 隐藏获胜信息</span></span><br><span class="line">  message.style.display= <span class="hljs-string">'none'</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-4. 重置下棋次数</span></span><br><span class="line">  steps = <span class="hljs-number">0</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-4.2 重置默认玩家为x</span></span><br><span class="line">  currentPlayer = Player.X</span><br><span class="line">  <span class="hljs-comment">// 10.4-4.3 重置下棋提示为x</span></span><br><span class="line">  gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">  gameBord.classList.add(Player.X)</span><br><span class="line">  </span><br><span class="line">  <span class="hljs-comment">// 10.4-3.2 清空棋盘</span></span><br><span class="line">  <span class="hljs-comment">// 棋盘的内容添加，是通过添加类名而成的：target_3.classList.add(currentPlayer)</span></span><br><span class="line">  <span class="hljs-comment">// 遍历每个单元格，清空</span></span><br><span class="line">  cells.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">    <span class="hljs-keyword">let</span> cell = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    <span class="hljs-comment">// 移除类名</span></span><br><span class="line">    <span class="hljs-comment">// 10.4-3.2 清空棋盘</span></span><br><span class="line">    cell.classList.remove(Player.X, Player.O)</span><br><span class="line">    <span class="hljs-comment">// 这个时候，虽然清楚了棋盘上的XO，但是没法，再点，因为{ once: true }</span></span><br><span class="line">    <span class="hljs-comment">// 10.4-3.3 移除单元格点击事件、重新给单元格绑定点击事件。</span></span><br><span class="line">    cell.removeEventListener(<span class="hljs-string">'click'</span>, clickCell)</span><br><span class="line">    <span class="hljs-comment">// 10.4-3.3.2 重新给单元格绑定点击事件。</span></span><br><span class="line">    cell.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">    </span><br><span class="line">  })</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// forEach_1 &gt; clickCell &gt; checkWin &gt; some_isWin</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_1</span>(<span class="hljs-params">item: HTMLDivElement</span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">let</span> cell = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    cell.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">}</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span>(<span class="hljs-params">event: MouseEvent</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line"></span><br><span class="line">    steps++</span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (isWin) {</span><br><span class="line">      winner.innerText = currentPlayer + <span class="hljs-string">'赢了'</span></span><br><span class="line">      message.style.display = <span class="hljs-string">'block'</span></span><br><span class="line">        <span class="hljs-keyword">return</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ( steps === <span class="hljs-number">9</span>) {</span><br><span class="line">      message.style.display = <span class="hljs-string">'block'</span></span><br><span class="line">      winner.innerText = <span class="hljs-string">'平局'</span></span><br><span class="line">      <span class="hljs-keyword">return</span> </span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'平局之后'</span>)</span><br><span class="line"></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line"></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params"> player: Player </span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]  </span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">if</span> (</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell3.classList.contains(player)</span><br><span class="line">    ) {</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">  }) </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line">cells.forEach(forEach_1)</span><br></pre></td></tr></tbody></table></div></figure>

<br>

<h4 id="10-4-2-优化重新游戏"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-4-2-%E4%BC%98%E5%8C%96%E9%87%8D%E6%96%B0%E6%B8%B8%E6%88%8F" class="headerlink" title="10.4.2 优化重新游戏"></a>10.4.2 优化重新游戏</h4><p>优化重新游戏功能：</p>
<p>原来，下棋分为：1 第一次游戏 2 重新开始游戏。</p>
<p>现在，将第一次游戏，也看做是“重新开始游戏”，就可以去掉第一次游戏时重复的初始化操作了。</p>
<ol>
<li>将重新开始按钮的事件处理程序修改为：函数声明形式（startGame）。</li>
<li>直接调用函数（startGame），来开始游戏。</li>
<li>移除变量 steps、currentPlayer 的默认值，并添加明确的类型注解。</li>
<li>移除给单元格绑定事件的代码。</li>
</ol>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">//横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">//斜</span></span><br><span class="line">]</span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"><span class="hljs-keyword">let</span> message = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#message'</span>) <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line"><span class="hljs-keyword">let</span> winner = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#winner'</span>) <span class="hljs-keyword">as</span> HTMLParagraphElement</span><br><span class="line"><span class="hljs-keyword">let</span> restart = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#restart'</span>) <span class="hljs-keyword">as</span> HTMLButtonElement</span><br><span class="line"><span class="hljs-built_in">console</span>.log(restart)</span><br><span class="line"><span class="hljs-comment">// 10.4.2-3.2 移除变量urrentPlayer 的默认值，并添加明确的类型注解。</span></span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer: Player</span><br><span class="line"><span class="hljs-comment">// 10.4.2-3.1 移除变量 steps的默认值，并添加明确的类型注解</span></span><br><span class="line"><span class="hljs-comment">// let steps = 0</span></span><br><span class="line"><span class="hljs-keyword">let</span> steps: <span class="hljs-built_in">number</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.4.2-1. 将原来的回调函数弄出来，声明新函数</span></span><br><span class="line">restart.addEventListener(<span class="hljs-string">'click'</span>, startGame)</span><br><span class="line"><span class="hljs-comment">// 10.4.2-2. 直接调用函数（startGame）初始化游戏数据，来开始游戏。</span></span><br><span class="line">startGame ()</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startGame</span> (<span class="hljs-params"></span>)</span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>)</span><br><span class="line">  message.style.display= <span class="hljs-string">'none'</span></span><br><span class="line">  steps = <span class="hljs-number">0</span></span><br><span class="line">  currentPlayer = Player.X</span><br><span class="line">  gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">  gameBord.classList.add(Player.X)</span><br><span class="line">  </span><br><span class="line">  cells.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">    <span class="hljs-keyword">let</span> cell = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    cell.classList.remove(Player.X, Player.O)</span><br><span class="line">    cell.removeEventListener(<span class="hljs-string">'click'</span>, clickCell)</span><br><span class="line">    cell.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">    </span><br><span class="line">  })</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// forEach_1 &gt; clickCell &gt; checkWin &gt; some_isWin</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-4.1 移除给单元格绑定事件的代码。</span></span><br><span class="line"><span class="hljs-comment">// function forEach_1(item: HTMLDivElement) {</span></span><br><span class="line"><span class="hljs-comment">//   let cell = item as HTMLDivElement</span></span><br><span class="line"><span class="hljs-comment">//     cell.addEventListener('click', clickCell, { once: true })</span></span><br><span class="line"><span class="hljs-comment">// }</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span>(<span class="hljs-params">event: MouseEvent</span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line"></span><br><span class="line">    steps++</span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (isWin) {</span><br><span class="line">      winner.innerText = currentPlayer + <span class="hljs-string">'赢了'</span></span><br><span class="line">      message.style.display = <span class="hljs-string">'block'</span></span><br><span class="line">        <span class="hljs-keyword">return</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ( steps === <span class="hljs-number">9</span>) {</span><br><span class="line">      message.style.display = <span class="hljs-string">'block'</span></span><br><span class="line">      winner.innerText = <span class="hljs-string">'平局'</span></span><br><span class="line">      <span class="hljs-keyword">return</span> </span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'平局之后'</span>)</span><br><span class="line"></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line"></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params"> player: Player </span>) </span>{</span><br><span class="line">  <span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]  </span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">if</span> (</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell3.classList.contains(player)</span><br><span class="line">    ) {</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">  }) </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment">// 10.4.2-4.1 移除给单元格绑定事件的代码。</span></span><br><span class="line"><span class="hljs-comment">// cells.forEach(forEach_1)</span></span><br></pre></td></tr></tbody></table></div></figure>

<br>

<hr>
<h3 id="10-5-总结"><a href="https://cqilin.gitee.io/1-(0~50)/2-ts_first_item/#10-5-%E6%80%BB%E7%BB%93" class="headerlink" title="10.5 总结"></a>10.5 总结</h3><ol>
<li>使用学到的 TS 、Web 开发知识，从零开始完成了下棋游戏。</li>
<li>TS 知识：变量声明、枚举、类型断言、函数（参数、返回值）等。</li>
<li>枚举：是一组有名字的常量的集合，用来组织有关联的数据。</li>
<li>类型断言：在我们比 TS 更明确变量的类型时，来指定具体类型。</li>
<li>函数封装：主要考虑参数和返回值，也就是接收要处理的数据，返回处理后<br>的结果。</li>
<li>实现功能：分步骤实现，完成一步，验证一步（先实现，再优化）。</li>
<li>DOM 操作：获取元素、添加移除事件、事件对象、样式操作、文本内容。</li>
<li>伪数组：具有长度（length）属性和索引（长得像、操作也像数组）。</li>
</ol>
<p>总代码–有注释版本：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 10.3.5-1判赢数组</span></span><br><span class="line"><span class="hljs-keyword">let</span> winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">//横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">//斜</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3-1. 创建字符串枚举（Player），提供 X 和 O 两个成员</span></span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 1. 获取到所有的单元格列表</span></span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-comment">// console.log(cells)</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 游戏面板</span></span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.8-1. 获胜信息面板</span></span><br><span class="line"><span class="hljs-keyword">let</span> message = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#message'</span>) <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line"><span class="hljs-comment">// 10.3.8-1.2 获胜者</span></span><br><span class="line"><span class="hljs-keyword">let</span> winner = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#winner'</span>) <span class="hljs-keyword">as</span> HTMLParagraphElement</span><br><span class="line"><span class="hljs-comment">// 10.4-1.</span></span><br><span class="line"><span class="hljs-keyword">let</span> restart = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#restart'</span>) <span class="hljs-keyword">as</span> HTMLButtonElement</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3-2. 将所有用到 x 和 o 的地方全部使用枚举成员代替。</span></span><br><span class="line"><span class="hljs-comment">// let currentPlayer = 'x'</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.4.2-3.2 移除变量urrentPlayer 的默认值，并添加明确的类型注解。</span></span><br><span class="line"><span class="hljs-comment">// let currentPlayer = Player.X</span></span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer: Player</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.7-1. 记录已下棋的次数</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-3.1 移除变量 steps的默认值，并添加明确的类型注解</span></span><br><span class="line"><span class="hljs-comment">// let steps = 0</span></span><br><span class="line"><span class="hljs-keyword">let</span> steps: <span class="hljs-built_in">number</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.4-1.2 绑定点击事件</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-1. 将原来的回调函数弄出来，声明新函数startGame</span></span><br><span class="line">restart.addEventListener(<span class="hljs-string">'click'</span>, startGame)</span><br><span class="line"><span class="hljs-comment">// 10.4.2-2. 直接调用函数（startGame）初始化游戏数据，来开始游戏。</span></span><br><span class="line">startGame ()</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startGame</span> (<span class="hljs-params"></span>)</span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>)</span><br><span class="line">  <span class="hljs-comment">// 10.4-3 隐藏获胜信息</span></span><br><span class="line">  message.style.display= <span class="hljs-string">'none'</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-4. 重置下棋次数</span></span><br><span class="line">  steps = <span class="hljs-number">0</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-4.2 重置默认玩家为x</span></span><br><span class="line">  currentPlayer = Player.X</span><br><span class="line">  <span class="hljs-comment">// 10.4-4.3 重置下棋提示为x</span></span><br><span class="line">  gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">  gameBord.classList.add(Player.X)</span><br><span class="line">    </span><br><span class="line">  <span class="hljs-comment">// 10.4-3.2 清空棋盘</span></span><br><span class="line">  <span class="hljs-comment">// 棋盘的内容添加，是通过添加类名而成的：target_3.classList.add(currentPlayer)</span></span><br><span class="line">  <span class="hljs-comment">// 遍历每个单元格，清空</span></span><br><span class="line">  cells.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">  <span class="hljs-keyword">let</span> cell = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">  <span class="hljs-comment">// 10.4-3.2 清空棋盘</span></span><br><span class="line">  cell.classList.remove(Player.X, Player.O)</span><br><span class="line">  <span class="hljs-comment">// 这个时候，虽然清楚了棋盘上的XO，但是没法，再点，因为{ once: true }</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-3.3 移除单元格点击事件、重新给单元格绑定点击事件。</span></span><br><span class="line">  cell.removeEventListener(<span class="hljs-string">'click'</span>, clickCell)</span><br><span class="line">  <span class="hljs-comment">// 10.4-3.3.2 重新给单元格绑定点击事件。</span></span><br><span class="line">  cell.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">  })</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// forEach_1 &gt; clickCell &gt; checkWin &gt; some_isWin</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-4.1 移除给单元格绑定事件的代码。</span></span><br><span class="line"><span class="hljs-comment">// function forEach_1(item: HTMLDivElement) {</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//     // console.log(item)</span></span><br><span class="line"><span class="hljs-comment">//     // 2.1 给每一个单元格添加点击事件</span></span><br><span class="line"><span class="hljs-comment">//     // let cell_2 = item as HTMLDivElement</span></span><br><span class="line"><span class="hljs-comment">//     item.addEventListener('click', clickCell, { once: true })</span></span><br><span class="line"><span class="hljs-comment">//     // console.log('click') // 打印出点击事件本身</span></span><br><span class="line"><span class="hljs-comment">// }</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span>(<span class="hljs-params">event: MouseEvent</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 在点击事件后面</span></span><br><span class="line">    <span class="hljs-comment">// 10.3.7-2. 在玩家下棋后，让 steps 加 1。</span></span><br><span class="line">    steps++</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.4-2. 调用判赢函数，判断是否获胜;因为是在玩家下棋时判断，所以在点击事件函数里面</span></span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (isWin) {</span><br><span class="line">      winner.innerText=currentPlayer + <span class="hljs-string">'赢了'</span></span><br><span class="line">      message.style.display= <span class="hljs-string">'block'</span></span><br><span class="line">      <span class="hljs-keyword">return</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.7-3在判赢的代码后面，判断 steps 是否等于 9。</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ( steps === <span class="hljs-number">9</span>) {</span><br><span class="line">      <span class="hljs-comment">// 10.3.7-4.如果等于 9 说明是平局，游戏结束，就直接 return，不再执行后续代码。</span></span><br><span class="line">      <span class="hljs-comment">// 因为游戏已经结束，所以，此处直接return</span></span><br><span class="line">      <span class="hljs-comment">// 来可以阻止后续代码执行</span></span><br><span class="line">      winner.innerText= <span class="hljs-string">'平局'</span></span><br><span class="line">      message.style.display= <span class="hljs-string">'block'</span></span><br><span class="line">      <span class="hljs-keyword">return</span> </span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'平局之后'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 根据当前玩家，得到另一个玩家</span></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 改变下一步提示；</span></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.4-1. 封装判赢函数</span></span><br><span class="line"> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params"> player: Player </span>) </span>{</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// 10.3.5-2. 取消写死的 判赢返回值</span></span><br><span class="line">  <span class="hljs-comment">// return true</span></span><br><span class="line">  <span class="hljs-comment">// 10.3.5-3. 使用 some 方法遍历数组，并将 some 方法的返回值作为判赢函数的返回结果。</span></span><br><span class="line">  <span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.5-4. 在 some 方法的回调函数中，获取到每种获胜情况对应的 3 个单元格元素。</span></span><br><span class="line">    <span class="hljs-comment">// 4.1 先拿到每种获胜情况的三个索引</span></span><br><span class="line">    <span class="hljs-comment">// 看一下item拿到winsArr的元素没</span></span><br><span class="line">    <span class="hljs-comment">// 要注意，checkWin在函数 clickCell 里面，是一个点击事件，点击才有效果</span></span><br><span class="line">    <span class="hljs-comment">// console.log(item) </span></span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line">  </span><br><span class="line">    <span class="hljs-comment">// 4.1.1 打印实验：每种获胜情况的三个索引</span></span><br><span class="line">    <span class="hljs-comment">// console.log(cellIndex1,cellIndex2,cellIndex3)</span></span><br><span class="line">    <span class="hljs-comment">// 4.2 通过这三个索引，从cells中获取到对应的单元格元素</span></span><br><span class="line">    <span class="hljs-comment">// 从 4.1.3 过来后</span></span><br><span class="line">    <span class="hljs-comment">// 前面拿索引，这一步拿格子</span></span><br><span class="line">    <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line">    <span class="hljs-comment">// console.log(cell1, cell2, cell3)</span></span><br><span class="line">  </span><br><span class="line">    <span class="hljs-comment">// 4.2 完成后干嘛？拿到了格子，要判断格子是否满足条件；</span></span><br><span class="line">    <span class="hljs-comment">// 我们看我们的函数，是some_isWin,它被let isWin = winsArr.some(some_isWin)用着</span></span><br><span class="line">    <span class="hljs-comment">// 被一个some用着，那必须要返回布尔值；</span></span><br><span class="line">    <span class="hljs-comment">// 那么这个判断依然在这里面写；</span></span><br><span class="line">  </span><br><span class="line">    <span class="hljs-comment">// 10.3.5-5 </span></span><br><span class="line">    <span class="hljs-comment">// 判断这 3 个单元格元素是否同时包含当前玩家的类名。</span></span><br><span class="line">    <span class="hljs-comment">// 重点：</span></span><br><span class="line">    <span class="hljs-comment">// 5.1. 元素是否包含类名 classList.contains();可以去文章1查</span></span><br><span class="line">    <span class="hljs-comment">// 5.2. 同时包含（第一个包含 并且 第二个包含，第三个包含）</span></span><br><span class="line">    <span class="hljs-comment">// 5.3. 逻辑运算符 &amp;&amp; 逻辑与，表示并且</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell3.classList.contains(player)</span><br><span class="line">    ) {</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">  })</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 伪数组cells的遍历；</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 2. 遍历单元格列表</span></span><br><span class="line"><span class="hljs-comment">// cells.forEach(forEach_cells)</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 启动单元格绑定事件</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-4.1 移除给单元格绑定事件的代码。</span></span><br><span class="line"><span class="hljs-comment">// cells.forEach(forEach_1)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<p>总代码，少注释版本：</p>
<figure class="highlight typescript"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 10.3.5-1判赢数组</span></span><br><span class="line"><span class="hljs-keyword">let</span> winsArr = [</span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">//横</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>], <span class="hljs-comment">// 竖</span></span><br><span class="line">    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>] <span class="hljs-comment">//斜</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3-1. 创建字符串枚举（Player），提供 X 和 O 两个成员</span></span><br><span class="line"><span class="hljs-built_in">enum</span> Player {</span><br><span class="line">    X = <span class="hljs-string">'x'</span>,</span><br><span class="line">    O = <span class="hljs-string">'o'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 1. 获取到所有的单元格列表</span></span><br><span class="line"><span class="hljs-keyword">let</span> cells = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.cell'</span>)</span><br><span class="line"><span class="hljs-comment">// console.log(cells)</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 游戏面板</span></span><br><span class="line"><span class="hljs-keyword">let</span> gameBord = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#bord'</span>)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.8-1. 获胜信息面板</span></span><br><span class="line"><span class="hljs-keyword">let</span> message = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#message'</span>) <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line"><span class="hljs-comment">// 10.3.8-1.2 获胜者</span></span><br><span class="line"><span class="hljs-keyword">let</span> winner = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#winner'</span>) <span class="hljs-keyword">as</span> HTMLParagraphElement</span><br><span class="line"><span class="hljs-comment">// 10.4-1.</span></span><br><span class="line"><span class="hljs-keyword">let</span> restart = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#restart'</span>) <span class="hljs-keyword">as</span> HTMLButtonElement</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 3-2. 将所有用到 x 和 o 的地方全部使用枚举成员代替。</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-3.2 移除变量urrentPlayer 的默认值，并添加明确的类型注解。</span></span><br><span class="line"><span class="hljs-keyword">let</span> currentPlayer: Player</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.7-1. 记录已下棋的次数</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-3.1 移除变量 steps的默认值，并添加明确的类型注解</span></span><br><span class="line"><span class="hljs-keyword">let</span> steps: <span class="hljs-built_in">number</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.4-1.2 绑定点击事件</span></span><br><span class="line"><span class="hljs-comment">// 10.4.2-1. 将原来的回调函数弄出来，声明新函数startGame</span></span><br><span class="line">restart.addEventListener(<span class="hljs-string">'click'</span>, startGame)</span><br><span class="line"><span class="hljs-comment">// 10.4.2-2. 直接调用函数（startGame）初始化游戏数据，来开始游戏。</span></span><br><span class="line">startGame ()</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startGame</span> (<span class="hljs-params"></span>)</span>{</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'click'</span>)</span><br><span class="line">  <span class="hljs-comment">// 10.4-3 隐藏获胜信息</span></span><br><span class="line">  message.style.display= <span class="hljs-string">'none'</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-4. 重置下棋次数</span></span><br><span class="line">  steps = <span class="hljs-number">0</span></span><br><span class="line">  <span class="hljs-comment">// 10.4-4.2 重置默认玩家为x</span></span><br><span class="line">  currentPlayer = Player.X</span><br><span class="line">  <span class="hljs-comment">// 10.4-4.3 重置下棋提示为x</span></span><br><span class="line">  gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">  gameBord.classList.add(Player.X)</span><br><span class="line">    </span><br><span class="line">  <span class="hljs-comment">// 10.4-3.2 清空棋盘</span></span><br><span class="line">  cells.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line">  <span class="hljs-keyword">let</span> cell = item <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">  <span class="hljs-comment">// 10.4-3.2 清空棋盘</span></span><br><span class="line">  cell.classList.remove(Player.X, Player.O)</span><br><span class="line">  <span class="hljs-comment">// 10.4-3.3 移除单元格点击事件、重新给单元格绑定点击事件。</span></span><br><span class="line">  cell.removeEventListener(<span class="hljs-string">'click'</span>, clickCell)</span><br><span class="line">  <span class="hljs-comment">// 10.4-3.3.2 重新给单元格绑定点击事件。</span></span><br><span class="line">  cell.addEventListener(<span class="hljs-string">'click'</span>, clickCell, { once: <span class="hljs-literal">true</span> })</span><br><span class="line">  })</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clickCell</span>(<span class="hljs-params">event: MouseEvent</span>) </span>{</span><br><span class="line">    <span class="hljs-comment">// 3. 给当前被点击的单元格添加类名 x</span></span><br><span class="line">    <span class="hljs-keyword">let</span> target_3 = event.target <span class="hljs-keyword">as</span> HTMLDivElement</span><br><span class="line">    target_3.classList.add(currentPlayer)</span><br><span class="line">    <span class="hljs-comment">// 10.3.7-2. 在玩家下棋后，让 steps 加 1。</span></span><br><span class="line">    steps++</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.4-2. 调用判赢函数，判断是否获胜;因为是在玩家下棋时判断，所以在点击事件函数里面</span></span><br><span class="line">    <span class="hljs-keyword">let</span> isWin = checkWin(currentPlayer)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (isWin) {</span><br><span class="line">      winner.innerText=currentPlayer + <span class="hljs-string">'赢了'</span></span><br><span class="line">      message.style.display= <span class="hljs-string">'block'</span></span><br><span class="line">      <span class="hljs-keyword">return</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 10.3.7-3在判赢的代码后面，判断 steps 是否等于 9。</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> ( steps === <span class="hljs-number">9</span>) {</span><br><span class="line">      <span class="hljs-comment">// 10.3.7-4.如果等于 9 说明是平局，游戏结束，就直接 return，不再执行后续代码。</span></span><br><span class="line">      winner.innerText= <span class="hljs-string">'平局'</span></span><br><span class="line">      message.style.display= <span class="hljs-string">'block'</span></span><br><span class="line">      <span class="hljs-keyword">return</span> </span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'平局之后'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 根据当前玩家，得到另一个玩家</span></span><br><span class="line">    currentPlayer = currentPlayer === Player.X ? Player.O : Player.X</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// 改变下一步提示；</span></span><br><span class="line">    gameBord.classList.remove(Player.X, Player.O)</span><br><span class="line">    gameBord.classList.add(currentPlayer)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 10.3.4-1. 封装判赢函数</span></span><br><span class="line"> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkWin</span>(<span class="hljs-params"> player: Player </span>) </span>{</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">return</span> winsArr.some(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>)</span>{</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex1 = item[<span class="hljs-number">0</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex2 = item[<span class="hljs-number">1</span>]</span><br><span class="line">    <span class="hljs-keyword">let</span> cellIndex3 = item[<span class="hljs-number">2</span>]</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">let</span> cell1 = cells[cellIndex1]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell2 = cells[cellIndex2]</span><br><span class="line">    <span class="hljs-keyword">let</span> cell3 = cells[cellIndex3]</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (</span><br><span class="line">      cell1.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell2.classList.contains(player) &amp;&amp;</span><br><span class="line">      cell3.classList.contains(player)</span><br><span class="line">    ) {</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></span><br><span class="line">  })</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach_cells</span>(<span class="hljs-params">item</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(item)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<p>…</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="https://cqilin.gitee.io/tags/item/" rel="tag"># item</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="https://cqilin.gitee.io/1-(0~50)/10-PicGo/" rel="prev" title="10-PicGo_图床">
      <i class="fa fa-chevron-left"></i> 10-PicGo_图床
    </a></div>
      <div class="post-nav-item">
    <a href="https://cqilin.gitee.io/1-(0~50)/11-git/" rel="next" title="11-git">
      11-git <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        
    <div class="comments v animated fadeIn" id="valine-comments" data-class="v"><div class="vpanel"><div class="vwrap"><p class="cancel-reply text-right" style="display:none;" title="取消回复"><svg class="vicon cancel-reply-btn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4220" width="22" height="22"><path d="M796.454 985H227.545c-50.183 0-97.481-19.662-133.183-55.363-35.7-35.701-55.362-83-55.362-133.183V227.545c0-50.183 19.662-97.481 55.363-133.183 35.701-35.7 83-55.362 133.182-55.362h568.909c50.183 0 97.481 19.662 133.183 55.363 35.701 35.702 55.363 83 55.363 133.183v568.909c0 50.183-19.662 97.481-55.363 133.183S846.637 985 796.454 985zM227.545 91C152.254 91 91 152.254 91 227.545v568.909C91 871.746 152.254 933 227.545 933h568.909C871.746 933 933 871.746 933 796.454V227.545C933 152.254 871.746 91 796.454 91H227.545z" p-id="4221"></path><path d="M568.569 512l170.267-170.267c15.556-15.556 15.556-41.012 0-56.569s-41.012-15.556-56.569 0L512 455.431 341.733 285.165c-15.556-15.556-41.012-15.556-56.569 0s-15.556 41.012 0 56.569L455.431 512 285.165 682.267c-15.556 15.556-15.556 41.012 0 56.569 15.556 15.556 41.012 15.556 56.569 0L512 568.569l170.267 170.267c15.556 15.556 41.012 15.556 56.569 0 15.556-15.556 15.556-41.012 0-56.569L568.569 512z" p-id="4222"></path></svg></p><div class="vheader item3"><input name="nick" placeholder="昵称" class="vnick vinput" type="text"><input name="mail" placeholder="邮箱" class="vmail vinput" type="email"><input name="link" placeholder="网址(http://)" class="vlink vinput" type="text"></div><div class="vedit"><textarea id="veditor" class="veditor vinput" placeholder="Just go go"></textarea><div class="vrow"><div class="vcol vcol-60 status-bar"></div><div class="vcol vcol-40 vctrl text-right"><span title="表情" class="vicon vemoji-btn"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16172" width="22" height="22"><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zM512 56.888889a455.111111 455.111111 0 1 0 455.111111 455.111111 455.111111 455.111111 0 0 0-455.111111-455.111111zM312.888889 512A85.333333 85.333333 0 1 1 398.222222 426.666667 85.333333 85.333333 0 0 1 312.888889 512z" p-id="16173"></path><path d="M512 768A142.222222 142.222222 0 0 1 369.777778 625.777778a28.444444 28.444444 0 0 1 56.888889 0 85.333333 85.333333 0 0 0 170.666666 0 28.444444 28.444444 0 0 1 56.888889 0A142.222222 142.222222 0 0 1 512 768z" p-id="16174"></path><path d="M782.222222 391.964444l-113.777778 59.733334a29.013333 29.013333 0 0 1-38.684444-10.808889 28.444444 28.444444 0 0 1 10.24-38.684445l113.777778-56.888888a28.444444 28.444444 0 0 1 38.684444 10.24 28.444444 28.444444 0 0 1-10.24 36.408888z" p-id="16175"></path><path d="M640.568889 451.697778l113.777778 56.888889a27.875556 27.875556 0 0 0 38.684444-10.24 27.875556 27.875556 0 0 0-10.24-38.684445l-113.777778-56.888889a28.444444 28.444444 0 0 0-38.684444 10.808889 28.444444 28.444444 0 0 0 10.24 38.115556z" p-id="16176"></path></svg></span><span title="预览" class="vicon vpreview-btn"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17688" width="22" height="22"><path d="M502.390154 935.384615a29.538462 29.538462 0 1 1 0 59.076923H141.430154C79.911385 994.461538 29.538462 946.254769 29.538462 886.153846V137.846154C29.538462 77.745231 79.950769 29.538462 141.390769 29.538462h741.218462c61.44 0 111.852308 48.206769 111.852307 108.307692v300.268308a29.538462 29.538462 0 1 1-59.076923 0V137.846154c0-26.899692-23.355077-49.230769-52.775384-49.230769H141.390769c-29.420308 0-52.775385 22.331077-52.775384 49.230769v748.307692c0 26.899692 23.355077 49.230769 52.775384 49.230769h360.999385z" p-id="17689"></path><path d="M196.923077 216.615385m29.538461 0l374.153847 0q29.538462 0 29.538461 29.538461l0 0q0 29.538462-29.538461 29.538462l-374.153847 0q-29.538462 0-29.538461-29.538462l0 0q0-29.538462 29.538461-29.538461Z" p-id="17690"></path><path d="M649.846154 846.769231a216.615385 216.615385 0 1 0 0-433.230769 216.615385 216.615385 0 0 0 0 433.230769z m0 59.076923a275.692308 275.692308 0 1 1 0-551.384616 275.692308 275.692308 0 0 1 0 551.384616z" p-id="17691"></path><path d="M807.398383 829.479768m20.886847-20.886846l0 0q20.886846-20.886846 41.773692 0l125.321079 125.321079q20.886846 20.886846 0 41.773693l0 0q-20.886846 20.886846-41.773693 0l-125.321078-125.321079q-20.886846-20.886846 0-41.773693Z" p-id="17692"></path></svg></span></div></div></div><div class="vrow"><div class="vcol vcol-30"><a alt="Markdown is supported" href="https://guides.github.com/features/mastering-markdown/" class="vicon" target="_blank"><svg class="markdown" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></a></div><div class="vcol vcol-70 text-right"><button type="button" title="Cmd|Ctrl+Enter" class="vsubmit vbtn">提交</button></div></div><div class="vemojis" style="display:none;"></div><div class="vinput vpreview" style="display:none;"></div><div style="display:none;" class="vmark"></div></div></div><div class="vcount" style="display:none;"><span class="vnum">0</span> 评论</div><div class="vload-top text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vcards"></div><div class="vload-bottom text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vempty" style="display: block;">来发评论吧~</div><div class="vpage txt-center" style="display:none"><button type="button" class="vmore vbtn">加载更多...</button></div><div class="vpower txt-right">Powered By <a href="https://valine.js.org/" target="_blank">Valine</a><br>v1.4.14</div></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer" style="opacity: 1;">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  © 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">qilin</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">759k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">11:30</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> &amp; <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/anime.min.js.下载"></script>

<script src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/utils.js.下载"></script>

<script src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/motion.js.下载"></script>


<script src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/next-boot.js.下载"></script>


  




  
<script src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/local-search.js.下载"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
    new Valine(Object.assign({
      el  : '#valine-comments',
      path: location.pathname,
    }, {"enable":true,"appId":"l9X7oYVrse5t6umGkFbQyhXs-gzGzoHsz","appKey":"dcwRazDbDakW6HdC3xERrYHu","placeholder":"Just go go","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"language":null,"visitor":true,"comment_count":true,"recordIP":true,"serverURLs":null}
    ));
  }, window.Valine);
});
</script>


  
  <script type="text/javascript" onmobile="true" color="0,0,0" opacity="0.7" zindex="-1" count="120" src="./2-typescript_First_Small_projects _ qilin&#39;s blog_files/canvas-nest.min.js.下载"></script><canvas id="c_n12" width="958" height="871" style="position: fixed; top: 0px; left: 0px; z-index: -1; opacity: 0.7;"></canvas>
  



<div id="free_vpn_container" style="display: none;">            <div class="free-vpn_wrap">                <div class="free-vpn_rate-popup">                    <div class="free-vpn_close-btn">                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">                            <g>                                <g>                                    <path fill="#afafaf" d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249                                        C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306                                        C514.019,27.23,514.019,14.135,505.943,6.058z"></path>                                </g>                            </g>                            <g>                                <g>                                    <path fill="#afafaf" d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636                                        c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"></path>                                </g>                            </g>                        </svg>                    </div>                    <div class="free-vpn_logo"></div>                    <div class="free-vpn_title">Free VPN</div>                    <div class="free-vpn_text">                        Enjoyed our app? Give us 5 stars!                    </div>                    <div class="free-vpn_stars">                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 46.354 46.354" style="enable-background:new 0 0 46.354 46.354;" xml:space="preserve"><g><g>                            <path d="M21.57,2.049c0.303-0.612,0.927-1,1.609-1c0.682,0,1.307,0.388,1.609,1l5.771,11.695c0.261,0.529,0.767,0.896,1.352,0.981   L44.817,16.6c0.677,0.098,1.237,0.572,1.448,1.221c0.211,0.649,0.035,1.363-0.454,1.839l-9.338,9.104   c-0.423,0.412-0.616,1.006-0.517,1.588l2.204,12.855c0.114,0.674-0.161,1.354-0.715,1.756c-0.553,0.4-1.284,0.453-1.89,0.137   l-11.544-6.07c-0.522-0.275-1.147-0.275-1.67,0l-11.544,6.069c-0.604,0.317-1.337,0.265-1.89-0.136   c-0.553-0.401-0.829-1.082-0.714-1.756l2.204-12.855c0.1-0.582-0.094-1.176-0.517-1.588L0.542,19.66   c-0.489-0.477-0.665-1.19-0.454-1.839c0.211-0.649,0.772-1.123,1.449-1.221l12.908-1.875c0.584-0.085,1.09-0.452,1.351-0.982   L21.57,2.049z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#FFD325"></path>                        </g></g> </svg>                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 46.354 46.354" style="enable-background:new 0 0 46.354 46.354;" xml:space="preserve"><g><g>                            <path d="M21.57,2.049c0.303-0.612,0.927-1,1.609-1c0.682,0,1.307,0.388,1.609,1l5.771,11.695c0.261,0.529,0.767,0.896,1.352,0.981   L44.817,16.6c0.677,0.098,1.237,0.572,1.448,1.221c0.211,0.649,0.035,1.363-0.454,1.839l-9.338,9.104   c-0.423,0.412-0.616,1.006-0.517,1.588l2.204,12.855c0.114,0.674-0.161,1.354-0.715,1.756c-0.553,0.4-1.284,0.453-1.89,0.137   l-11.544-6.07c-0.522-0.275-1.147-0.275-1.67,0l-11.544,6.069c-0.604,0.317-1.337,0.265-1.89-0.136   c-0.553-0.401-0.829-1.082-0.714-1.756l2.204-12.855c0.1-0.582-0.094-1.176-0.517-1.588L0.542,19.66   c-0.489-0.477-0.665-1.19-0.454-1.839c0.211-0.649,0.772-1.123,1.449-1.221l12.908-1.875c0.584-0.085,1.09-0.452,1.351-0.982   L21.57,2.049z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#FFD325"></path>                        </g></g> </svg>                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 46.354 46.354" style="enable-background:new 0 0 46.354 46.354;" xml:space="preserve"><g><g>                            <path d="M21.57,2.049c0.303-0.612,0.927-1,1.609-1c0.682,0,1.307,0.388,1.609,1l5.771,11.695c0.261,0.529,0.767,0.896,1.352,0.981   L44.817,16.6c0.677,0.098,1.237,0.572,1.448,1.221c0.211,0.649,0.035,1.363-0.454,1.839l-9.338,9.104   c-0.423,0.412-0.616,1.006-0.517,1.588l2.204,12.855c0.114,0.674-0.161,1.354-0.715,1.756c-0.553,0.4-1.284,0.453-1.89,0.137   l-11.544-6.07c-0.522-0.275-1.147-0.275-1.67,0l-11.544,6.069c-0.604,0.317-1.337,0.265-1.89-0.136   c-0.553-0.401-0.829-1.082-0.714-1.756l2.204-12.855c0.1-0.582-0.094-1.176-0.517-1.588L0.542,19.66   c-0.489-0.477-0.665-1.19-0.454-1.839c0.211-0.649,0.772-1.123,1.449-1.221l12.908-1.875c0.584-0.085,1.09-0.452,1.351-0.982   L21.57,2.049z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#FFD325"></path>                        </g></g> </svg>                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 46.354 46.354" style="enable-background:new 0 0 46.354 46.354;" xml:space="preserve"><g><g>                            <path d="M21.57,2.049c0.303-0.612,0.927-1,1.609-1c0.682,0,1.307,0.388,1.609,1l5.771,11.695c0.261,0.529,0.767,0.896,1.352,0.981   L44.817,16.6c0.677,0.098,1.237,0.572,1.448,1.221c0.211,0.649,0.035,1.363-0.454,1.839l-9.338,9.104   c-0.423,0.412-0.616,1.006-0.517,1.588l2.204,12.855c0.114,0.674-0.161,1.354-0.715,1.756c-0.553,0.4-1.284,0.453-1.89,0.137   l-11.544-6.07c-0.522-0.275-1.147-0.275-1.67,0l-11.544,6.069c-0.604,0.317-1.337,0.265-1.89-0.136   c-0.553-0.401-0.829-1.082-0.714-1.756l2.204-12.855c0.1-0.582-0.094-1.176-0.517-1.588L0.542,19.66   c-0.489-0.477-0.665-1.19-0.454-1.839c0.211-0.649,0.772-1.123,1.449-1.221l12.908-1.875c0.584-0.085,1.09-0.452,1.351-0.982   L21.57,2.049z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#FFD325"></path>                        </g></g> </svg>                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 46.354 46.354" style="enable-background:new 0 0 46.354 46.354;" xml:space="preserve"><g><g>                            <path d="M21.57,2.049c0.303-0.612,0.927-1,1.609-1c0.682,0,1.307,0.388,1.609,1l5.771,11.695c0.261,0.529,0.767,0.896,1.352,0.981   L44.817,16.6c0.677,0.098,1.237,0.572,1.448,1.221c0.211,0.649,0.035,1.363-0.454,1.839l-9.338,9.104   c-0.423,0.412-0.616,1.006-0.517,1.588l2.204,12.855c0.114,0.674-0.161,1.354-0.715,1.756c-0.553,0.4-1.284,0.453-1.89,0.137   l-11.544-6.07c-0.522-0.275-1.147-0.275-1.67,0l-11.544,6.069c-0.604,0.317-1.337,0.265-1.89-0.136   c-0.553-0.401-0.829-1.082-0.714-1.756l2.204-12.855c0.1-0.582-0.094-1.176-0.517-1.588L0.542,19.66   c-0.489-0.477-0.665-1.19-0.454-1.839c0.211-0.649,0.772-1.123,1.449-1.221l12.908-1.875c0.584-0.085,1.09-0.452,1.351-0.982   L21.57,2.049z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#FFD325"></path>                        </g></g> </svg>                    </div>                    <a class="free-vpn_rate-btn" target="_blank" href="https://chrome.google.com/webstore/detail/free-vpn-the-fastest-vpn/enaobbodnmbpecahhojidoiblhmnohef/reviews">Rate VPN</a>                </div>            </div>        </div></body></html>